<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PLACAR DE SNOOKER</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Oswald&family=Asap:ital,wght@0,100..900;1,100..900&family=Barlow+Semi+Condensed:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Bebas+Neue&family=Bree+Serif&family=Fira+Sans+Condensed:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Gidole&family=IBM+Plex+Sans:ital,wght@0,100..700;1,100..700&family=Merriweather+Sans:ital,wght@0,300..800;1,300..800&family=Roboto+Condensed:ital,wght@0,100..900;1,100..900&family=Roboto+Slab:wght@100..900&family=Roboto:ital,wght@0,100..900;1,100..900&family=Saira:ital,wght@0,100..900;1,100..900&family=Signika+Negative:wght@300..700&family=Signika:wght@300..700&family=Winky+Sans:ital,wght@0,300..900;1,300..900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body {
            font-family: 'Oswald', sans-serif;
            text-align: center;
            margin: 0;
            padding: 10px;
            background-image: url('https://i.imgur.com/f9v9Tdr.jpg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            background-blend-mode: overlay;
        }
        h1 {
            font-size: 30px;
            margin-bottom: 20px;
        }
        .scoreboard {
            display: flex;
            justify-content: center;
            align-items: flex-start;
            gap: 15px;
            margin-top: 10px;
            flex-wrap: wrap;
        }
        .player {
            border: 10px solid green;
            padding: 4px;
            border-radius: 15px;
            background-color: white;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            width: 900px;       
        }
        .difference, .tacada, .best-of, .wins, .break, .difference-remaining, .timer, .average-time, .match-time, .balls-count {
            border: 4px solid black;
            padding: 4px;
            border-radius: 15px;
            background-color: white;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        p {
            font-size: 170px;
            font-weight: bold;
            margin: 1px 0;
            text-align: center;
        }
        h2 {
            font-size: 40px;
            font-weight: bold;
            margin: 1px 0;
            cursor: pointer;
            position: relative;
            text-align: center;
            white-space: nowrap;
        }
        .player h2 {
            font-size: 100px;
            position: relative;
        }
        .selected-player-1 {
            color: red;
            position: absolute;
            right: 90%;
            left: 0;
            font-size: 100px;
        }
        .selected-player-2 {
            color: red;
            position: absolute;
            right: 0%;
            left: 90;
            font-size: 100px;
        }
        .difference p, .tacada p, .wins p, .best-of p, .break p, .difference-remaining p, .timer p, .average-time p, .match-time p, .balls-count p {
            font-size: 70px;
            font-weight: bold;
        }
        .buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            justify-content: center;
            margin-top: 10px;
        }
        .buttons button {
            width: 100px;
            height: 100px;
            border: none;
            border-radius: 50%;
            font-family: 'Oswald', sans-serif;
            font-size: 50px;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.2s;
            box-shadow: 
                inset -5px -5px 10px rgba(0, 0, 0, 0.3),
                inset 3px 3px 5px rgba(255, 255, 255, 0.2),
                0 4px 8px rgba(0, 0, 0, 0.3);
            color: white;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
        }
        .buttons button.subtract {
            background-color: white;
            border: 3px solid black;
            color: black;
            width: 80px;
            height: 80px;
            font-size: 40px;
            box-shadow: none;
            text-shadow: none;
        }
        .buttons button.add-1 { background: radial-gradient(circle at 30% 30%, #ff6b6b, #dc3545 70%); }
        .buttons button.add-2 { background: radial-gradient(circle at 30% 30%, #fff176, #ffc107 70%); color: black; }
        .buttons button.add-3 { background: radial-gradient(circle at 30% 30%, #81c784, #28a745 70%); }
        .buttons button.add-4 { background: radial-gradient(circle at 30% 30%, #a1887f, #8b4513 70%); }
        .buttons button.add-5 { background: radial-gradient(circle at 30% 30%, #64b5f6, #007bff 70%); }
        .buttons button.add-6 { background: radial-gradient(circle at 30% 30%, #f48fb1, #e83e8c 70%); }
        .buttons button.add-7 { background: radial-gradient(circle at 30% 30%, #424242, #000000 70%); }
        .buttons button:hover {
            transform: scale(1.1);
        }
        .wins, .best-of, .tacada, .break, .difference-remaining, .timer, .average-time, .match-time, .balls-count {
            margin-top: 4px;
        }
        .best-of, .tacada, .wins, .break, .difference-remaining, .timer, .average-time, .match-time, .balls-count {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 1px;
        }
        .best-of button, .wins button {
            margin: 2px;
            font-size: 28px;
            padding: 5px 12px;
            cursor: pointer;
            border: none;
            background-color: #007bff;
            color: white;
            border-radius: 5px;
            transition: background-color 0.5s;
        }
        .best-of button:hover, .wins button:hover {
            background-color: #0056b3;
        }
        .center-panel {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 2px;
        }
        input[type="text"] {
            padding: 5px;
            font-size: 16px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
        .foul-history {
            margin-top: 5px;
            border: 4px solid black;
            padding: 10px;
            border-radius: 10px;
            background-color: white;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            min-width: 498px;
            width: auto;
            max-width: none;
            height: 120px;
            display: flex;
            flex-direction: column;
            overflow-y: auto;    
        }
        .foul-history h3 {
            margin-top: 0;
            font-size: 30px;
            margin-bottom: 6px
        }
        .balls-history {
            display: flex;
            flex-wrap: wrap;
            gap: 4px;
            width: 100%;
            overflow-y: auto;
            align-content: flex-start;
        }
        .ball-3d {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 22px;
            font-weight: bold;
            color: white;
            position: relative;
            box-shadow: 
                inset -5px -5px 10px rgba(0, 0, 0, 0.3),
                inset 2px 2px 5px rgba(255, 255, 255, 0.2),
                0 4px 8px rgba(0, 0, 0, 0.3);
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
        }

        .ball-3d::before {
            content: '';
            position: absolute;
            top: 10%;
            left: 20%;
            width: 15px;
            height: 15px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.4);
            filter: blur(2px);
        }

        .ball-3d.red { background: radial-gradient(circle at 30% 30%, #ff6b6b, #dc3545 70%); }
        .ball-3d.yellow { background: radial-gradient(circle at 30% 30%, #fff176, #ffc107 70%); color: #333; }
        .ball-3d.green { background: radial-gradient(circle at 30% 30%, #81c784, #28a745 70%); }
        .ball-3d.brown { background: radial-gradient(circle at 30% 30%, #a1887f, #8b4513 70%); }
        .ball-3d.blue { background: radial-gradient(circle at 30% 30%, #64b5f6, #007bff 70%); }
        .ball-3d.pink { background: radial-gradient(circle at 30% 30%, #f48fb1, #e83e8c 70%); }
        .ball-3d.black { background: radial-gradient(circle at 30% 30%, #424242, #000000 70%); }
        .ball-3d.foul { background: radial-gradient(circle at 30% 30%, #ff8a80, #dc3545 70%); }
        
        .ball-3d.divider {
            background: none;
            box-shadow: none;
            color: black;
            text-shadow: none;
            font-size: 30px;
            width: 10px;
            margin: 0 5px;
        }

        .foul-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 10px;
        }
        .foul-buttons button {
            width: 100px;
            height: 100px;
            border: none;
            border-radius: 50%;
            font-family: 'Oswald', sans-serif;
            font-size: 45px;
            font-weight: bold;
            cursor: pointer;
            background: radial-gradient(circle at 30% 30%, #ff6b6b, #dc3545 70%);
            color: white;
            transition: transform 0.2s;
            box-shadow: 
                inset -5px -5px 10px rgba(0, 0, 0, 0.3),
                inset 3px 3px 5px rgba(255, 255, 255, 0.2),
                0 4px 8px rgba(0, 0, 0, 0.3);
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
        }
        .foul-buttons button:hover {
            transform: scale(1.1);
        }
        .tacada p, .wins p, .break p, .difference-remaining p, .balls-count p {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 0.5px;
        }
        .tacada p span, .wins p span, .break p span, .difference-remaining p span, .balls-count p span {
            width: 130px;
            text-align: center;
        }
        
        /* NOVO ESTILO: TEXTO VERMELHO QUANDO TACADA É ZERO */
        .tacada p span.zero-tacada {
            color: red;
        }
        
        .reset-button {
            font-weight: bold;
            text-transform: uppercase;
        }
        .remaining-buttons {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
            justify-content: center;
            margin-top: 10px;
        }
        .remaining-buttons .ball-row {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            max-width: 100%;
        }
        .remaining-buttons .ball-row.spacer {
            margin-bottom: 10px;
        }
        .remaining-buttons button {
            width: 50px;
            height: 50px;
            border: none;
            border-radius: 50%;
            font-family: 'Oswald', sans-serif;
            font-size: 30px;
            font-weight: ligth;
            cursor: pointer;
            transition: transform 0.2s;
            box-shadow: 
                inset -3px -3px 5px rgba(0, 0, 0, 0.3),
                inset 2px 2px 5px rgba(255, 255, 255, 0.2),
                0 2px 4px rgba(0, 0, 0, 0.2);
            text-shadow: 0 1px 1px rgba(0, 0, 0, 0.3);
        }
        .remaining-buttons button.red { 
            background: radial-gradient(circle at 30% 30%, #ff6b6b, #dc3545 70%);
            color: white;
        }
        .remaining-buttons button.yellow { 
            background: radial-gradient(circle at 30% 30%, #fff176, #ffc107 70%);
            color: black;
        }
        .remaining-buttons button.green { 
            background: radial-gradient(circle at 30% 30%, #81c784, #28a745 70%);
            color: white;
        }
        .remaining-buttons button.brown { 
            background: radial-gradient(circle at 30% 30%, #a1887f, #8b4513 70%);
            color: white;
        }
        .remaining-buttons button.blue { 
            background: radial-gradient(circle at 30% 30%, #64b5f6, #007bff 70%);
            color: white;
        }
        .remaining-buttons button.pink { 
            background: radial-gradient(circle at 30% 30%, #f48fb1, #e83e8c 70%);
            color: white;
        }
        .remaining-buttons button.black { 
            background: radial-gradient(circle at 30% 30%, #424242, #000000 70%);
            color: white;
        }
        .remaining-buttons button:hover {
            transform: scale(1.1);
        }
        .break {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
            width: 350px;
            height: 100px;
            overflow: hidden;
            border: 4px solid black;
            padding: 4px;
            border-radius: 15px;
            background-color: #101F7A;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        .break h2 {
            font-size: 25px;
            margin: 0;
            text-align: center;
            width: 100%;
            color: white;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7);
        }
        
        /* ATUALIZAÇÃO: CENTRALIZAR AS BOLHAS DO BREAK */
        .break .ball-container {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
            justify-content: left;
            align-items: left;
            width: 100%;
            height: 60px;
            overflow-x: auto;
            overflow-y: hidden;
            padding: 5px;
        }
        
        .break .ball {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: none;
            align-items: center;
            justify-content: center;
            font-size: 25px;
            font-weight: normal;
            color: white;
            flex-shrink: 0;
        }
        .break .ball.show {
            display: flex;
        }
        .break .ball.red { background: radial-gradient(circle at 30% 30%, #ff6b6b, #dc3545 70%); }
        .break .ball.yellow { background: radial-gradient(circle at 30% 30%, #fff176, #ffc107 70%); color: #333; }
        .break .ball.green { background: radial-gradient(circle at 30% 30%, #81c784, #28a745 70%); }
        .break .ball.brown { background: radial-gradient(circle at 30% 30%, #a1887f, #8b4513 70%); }
        .break .ball.blue { background: radial-gradient(circle at 30% 30%, #64b5f6, #007bff 70%); }
        .break .ball.pink { background: radial-gradient(circle at 30% 30%, #f48fb1, #e83e8c 70%); }
        .break .ball.black { background: radial-gradient(circle at 30% 30%, #424242, #000000 70%); }
        .break h2, .difference-remaining h2 {
            font-size: 25px;
        }
        .difference-remaining {
            width: 350px;
            height: 100px;
            border: 4px solid black;
            padding: 4px;
            border-radius: 15px;
            background-color: white;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        .difference-remaining p {
            font-size: 35px;
        }
        .timer-container {
            display: flex;
            gap: 10px;
            justify-content: center;
            width: 100%;
        }
        .timer, .average-time, .balls-count {
            width: 244px;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        .timer h2, .average-time h2, .balls-count h2 {
            font-size: 25px;
            margin: 0;
            text-align: center;
        }
        .timer p, .average-time p, .balls-count p {
            font-size: 35px;
            font-weight: bold;
            margin: 0;
            text-align: center;
        }
        
        /* ESTILOS ATUALIZADOS PARA A JANELA UNIFICADA DE CRONÔMETROS */
        .match-game-time {
            width: 508px;
            border: 4px solid black;
            padding: 10px;
            border-radius: 15px;
            background-color: white;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            margin-top: 4px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .match-game-time-header {
            margin-bottom: 15px;
            text-align: center;
            width: 100%;
        }

        .match-game-time-title {
            font-size: 28px;
            margin: 0;
            text-align: center;
            color: black;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .match-game-time-display {
            display: flex;
            justify-content: center;
            align-items: stretch;
            width: 100%;
            gap: 0;
            margin-bottom: 15px;
            background: linear-gradient(to right, green, #e9ecef, green);
            border-radius: 10px;
            padding: 5px 0;
            border: 0px solid #dee2e6;
        }

        .match-game-timer-section {
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 5px 5px;
        }

        .match-game-timer-header {
            margin-bottom: 2px;
            text-align: center;
            width: 100%;
        }

        .match-game-timer-title {
            font-size: 18px;
            margin: 0;
            color: black;
            font-weight: 600;
            text-transform: uppercase;
        }

        .match-game-timer-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            width: 100%;
        }

        .match-game-timer-value {
            font-size: 47px;
            font-weight: bold;
            margin: 2px 0 15px 0;
            text-align: center;
            color: black;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
            background-color: white;
            padding: 3px 10px;
            border-radius: 8px;
            border: 2px solid #adb5bd;
            min-width: 180px;
            box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.1);
        }

        .match-game-timer-buttons {
            display: flex;
            justify-content: center;
            gap: 8px;
            width: 100%;
            flex-wrap: wrap;
        }

        .timer-btn {
            font-family: 'Oswald', sans-serif;
            font-size: 14px;
            padding: 6px 12px;
            border-radius: 5px;
            border: none;
            cursor: pointer;
            transition: all 0.2s;
            font-weight: 500;
            min-width: 100px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .timer-btn.start-stop {
            background-color: #28a745;
            color: white;
            border: 1px solid #218838;
        }

        .timer-btn.start-stop:hover {
            background-color: #218838;
            transform: translateY(-2px);
            box-shadow: 0 3px 5px rgba(0, 0, 0, 0.2);
        }

        .timer-btn.reset {
            background-color: #dc3545;
            color: white;
            border: 1px solid #c82333;
        }

        .timer-btn.reset:hover {
            background-color: #c82333;
            transform: translateY(-2px);
            box-shadow: 0 3px 5px rgba(0, 0, 0, 0.2);
        }

        .match-game-timer-divider {
            width: 10%;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        .timer-divider-line {
            width: 2px;
            height: 80%;
            background-color: #adb5bd;
            border-radius: 1px;
        }

        .match-game-global-controls {
            display: flex;
            justify-content: center;
            gap: 10px;
            width: 100%;
            margin-top: 10px;
            padding-top: 15px;
            border-top: 2px dashed #dee2e6;
        }

        .global-control-btn {
            font-family: 'Oswald', sans-serif;
            font-size: 14px;
            padding: 8px 15px;
            border-radius: 6px;
            border: none;
            cursor: pointer;
            transition: all 0.2s;
            font-weight: 500;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
            min-width: 130px;
        }

        .global-control-btn.start-all {
            background-color: #17a2b8;
            color: white;
            border: 1px solid #138496;
        }

        .global-control-btn.start-all:hover {
            background-color: #138496;
            transform: translateY(-2px);
            box-shadow: 0 3px 5px rgba(0, 0, 0, 0.2);
        }

        .global-control-btn.stop-all {
            background-color: #ffc107;
            color: #212529;
            border: 1px solid #e0a800;
        }

        .global-control-btn.stop-all:hover {
            background-color: #e0a800;
            transform: translateY(-2px);
            box-shadow: 0 3px 5px rgba(0, 0, 0, 0.2);
        }

        .global-control-btn.reset-all {
            background-color: #6c757d;
            color: white;
            border: 1px solid #5a6268;
        }

        .global-control-btn.reset-all:hover {
            background-color: #5a6268;
            transform: translateY(-2px);
            box-shadow: 0 3px 5px rgba(0, 0, 0, 0.2);
        }
        
        .font-style-controls {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 10px;
        }
        .font-style-controls button {
            font-family: 'Oswald', sans-serif;
            font-size: 16px;
            padding: 5px 10px;
            border-radius: 5px;
            border: none;
            cursor: pointer;
            background-color: #6c757d;
            color: white;
            transition: background-color 0.2s;
        }
        .font-style-controls button:hover {
            background-color: #5a6268;
        }
        .break-and-difference {
            display: flex;
            justify-content: center;
            width: 100%;
            margin-top: 4px;
            gap: 10px;
        }
        .break-sequence {
            display: flex;
            gap: 10px;
            justify-content: center;
        }
        .font-controls {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 10px;
        }
        .font-controls select, .font-controls button {
            font-family: 'Oswald', sans-serif;
            font-size: 16px;
            padding: 5px;
            border-radius: 5px;
            border: 1px solid #ccc;
        }
        .font-controls button {
            background-color: #007bff;
            color: white;
            border: none;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        .font-controls button:hover {
            background-color: #0056b3;
        }
        .game-mode-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 10px;
        }
        .game-mode-controls label {
            display: flex;
            align-items: center;
            gap: 5px;
            font-family: 'Oswald', sans-serif;
            font-size: 16px;
            cursor: pointer;
        }
        .game-mode-controls input[type="checkbox"] {
            width: 18px;
            height: 18px;
            cursor: pointer;
        }

        .difference, .tacada, .best-of {
            width: 520px;
            margin-top: 4px;
        }

        .wins {
            width: 520px;
            margin-top: 4px;
        }

        .flag-container {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 10px;
        }
        
        .flag-select {
            width: 250px;
            padding: 5px;
            font-size: 16px;
            border-radius: 5px;
        }
        
        .player-name-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            position: relative;
        }
        
        .player-flag {
            height: 80px;
            width: auto;
            border: 1px solid #ccc;
            border-radius: 5px;
            position: absolute;
        }
        
        #player1FlagImg {
            right: 0;
        }
        
        #player2FlagImg {
            left: 0;
        }

        .balls-count {
            width: 244px;
            height: 100%;
        }

        .balls-count h2 {
            font-size: 25px;
            margin: 0;
            text-align: center;
        }

        .balls-count p {
            font-size: 35px;
            font-weight: bold;
            margin: 0;
            text-align: center;
        }

        .balls-count .divider {
            width: 100%;
            height: 2px;
            background-color: #ccc;
            margin: 5px 0;
        }

        .player-photo-container {
            position: absolute;
            margin: 10px 0;
        }

        .player-photo-container.left{
            left: 0;
        }

        .player-photo-container.right{
            right: 0;
        }

        .player-photo {
            width: 120px;
            height: 160px;
            border: 3px solid #333;
            border-radius: 5px;
            overflow: hidden;
            background-color: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            position: relative;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .player1-photo {
            margin-right: 20px;
        }

        .player2-photo {
            margin-left: 20px;
        }

        .player-photo img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .player-photo-placeholder {
            font-size: 14px;
            text-align: center;
            color: #666;
            padding: 10px;
        }

        .player-photo input[type="file"] {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            cursor: pointer;
        }

        .player-score-container {
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* NOVOS ESTILOS PARA A PALETA DE CORES */
        .color-palette-container {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
            flex-wrap: wrap;
            padding: 10px;
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .color-palette-title {
            font-size: 18px;
            font-weight: bold;
            margin-right: 10px;
        }

        .color-palette {
            display: flex;
            gap: 5px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .color-item {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            cursor: pointer;
            border: 2px solid #333;
            transition: transform 0.2s;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        .color-item:hover {
            transform: scale(1.2);
        }

        .color-picker-btn {
            display: flex;
            align-items: center;
            gap: 5px;
            padding: 8px 15px;
            background-color: #6c757d;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-family: 'Oswald', sans-serif;
            font-size: 14px;
            transition: background-color 0.2s;
        }

        .color-picker-btn:hover {
            background-color: #5a6268;
        }

        .window-selector {
            display: flex;
            gap: 10px;
            margin-left: 10px;
            flex-wrap: wrap;
        }

        .window-btn {
            padding: 6px 12px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-family: 'Oswald', sans-serif;
            font-size: 14px;
            transition: background-color 0.2s;
        }

        .window-btn:hover {
            background-color: #0056b3;
        }

        .window-btn.active {
            background-color: #28a745;
            box-shadow: 0 0 5px rgba(40, 167, 69, 0.7);
        }

        /* ESTILOS ATUALIZADOS PARA A JANELA DE BUSCA DE IMAGEM NO TOPO */
        .image-search-top-container {
            position: relative;
            width: 300px;
            height: 50px;
            border: 3px solid black;
            border-radius: 10px;
            background-color: white;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            transition: all 0.3s ease;
            margin-left: 10px;
            cursor: pointer;
        }

        .image-search-top-box {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            text-align: center;
            background-color: #f9f9f9;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1;
            padding: 5px;
        }

        .image-search-top-box:hover {
            background-color: #f0f0f0;
        }

        .image-search-top-text {
            font-size: 14px;
            color: #666;
            line-height: 1.2;
            text-align: center;
        }

        .image-search-top-input {
            display: none;
        }

        .image-preview-top-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            z-index: 2;
            background-color: white;
        }

        .image-preview-top {
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }

        .image-preview-top img {
            max-width: 100%;
            max-height: 100%;
            object-fit: cover;
        }

        .image-preview-top-controls {
            position: absolute;
            bottom: 5px;
            right: 5px;
            display: flex;
            gap: 3px;
            opacity: 0;
            transition: opacity 0.3s;
            z-index: 3;
        }

        .image-preview-top-container:hover .image-preview-top-controls {
            opacity: 1;
        }

        .image-control-top-btn {
            background-color: rgba(0, 0, 0, 0.7);
            color: white;
            border: none;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            font-size: 12px;
            transition: background-color 0.2s;
        }

        .image-control-top-btn:hover {
            background-color: rgba(0, 0, 0, 0.9);
        }

        .remove-image-top-btn {
            background-color: rgba(220, 53, 69, 0.8);
        }

        .remove-image-top-btn:hover {
            background-color: rgba(220, 53, 69, 1);
        }

        /* ESTILOS PARA OS DADOS DA BARRA INFERIOR - COM POSIÇÕES INDEPENDENTES */
        .inferior-bar-wrapper {
            width: 100%;
            margin-top: 20px;
            display: flex;
            justify-content: center;
        }

        .inferior-bar-container {
            position: relative;
            width: 2048px;
            height: 147px;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);
            background-color: white;
            border: 4px solid black;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .inferior-bar-image {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            z-index: 1;
        }

        /* CONTÊINER PRINCIPAL DOS DADOS - FUNDO TRANSPARENTE */
        .inferior-data-container {
            position: relative;
            z-index: 2;
            width: 100%;
            height: 100%;
            background-color: transparent;
            padding: 0 40px;
            /* NOVO: FIXAR ELEMENTOS DENTRO DO CONTAINER */
            position: relative;
            transform-origin: top left;
            transform: scale(1);
        }

        /* ELEMENTOS FLUTUANTES COM POSIÇÃO ABSOLUTA - CADA UM POSICIONADO INDEPENDENTEMENTE */
        /* Jogador 1 - Nome */
        .inferior-name1 {
            opacity: 0;
            position: absolute;
            left: 400px;
            top: 44%;
            transform: translateY(-50%);
            font-family: 'Oswald', sans-serif;
            font-size: 80px;
            font-weight: regular;
            text-transform: uppercase;
            color: white;
            text-shadow: 0px 0px 0px rgba(0, 0, 0, 0);
            z-index: 3;
            min-width: 280px;
        }

        /* Jogador 1 - Pontos */
        .inferior-score1 {
            position: absolute;
            left: 940px;
            top: 44%;
            transform: translateY(-50%);
            font-family: 'Oswald', sans-serif;
            font-size: 78px;
            font-weight: regular;
            color: black;
            text-shadow: 2px 2px 2px rgba(0, 0, 0, 0.9);
            z-index: 3;
            min-width: 765px;
            text-align: center;
        }

        /* Jogador 1 - Partidas */
        .inferior-wins1 {
            position: absolute;
            left: 520px;
            top: 44%;
            transform: translateY(-50%);
            font-family: 'Oswald', sans-serif;
            font-size: 60px;
            font-weight: regular;
            color: white;
            text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.9);
            z-index: 3;
            min-width: 830px;
            text-align: center;
        }

        /* Jogador 1 - Bandeira */
        .inferior-flag1 {
            position: absolute;
            left: 40px;
            top: 26%;
            transform: translateY(80%);
            transform: translateX(567px);
            height: 60px;
            width: auto;
            border: 1px solid rgba(255, 255, 255, 0.5);
            border-radius: 5px;
            background-color: rgba(255, 255, 255, 0.2);
            z-index: 3;
        }

        /* Setas de seleção do Jogador 1 */
        .inferior-arrow-left {
            position: absolute;
            left: 40px;
            top: 15%;
            transform: translateY(-50%);
            transform: translateX(14%);
            font-size: 60px;
            color: white;
            cursor: pointer;
            text-shadow: 1px 1px 1px rgba(0, 0, 0, 0.9);
            z-index: 3;
            min-width: 50px;
            opacity: 0.2;                  /* invisível por padrão */
            transition: opacity 1s;    /* animação suave */
            }

            .inferior-arrow-left::before {
            content: '►';
            }

            /* Quando estiver selecionada */
            .inferior-arrow-left.selected {
             opacity: 1;                  /* aparece */
             color: red;;
        }

        .inferior-best-of {
            position: absolute;
            left: 660px;
            top: 45%;
            transform: translateY(-50%);
            font-family: 'Oswald', sans-serif;
            font-size: 58px;
            font-weight: regular;
            color: white;
            text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.9);
            z-index: 3;
            min-width: 730px;
            text-align: center;
        }

        /* Jogador 2 - Partidas */
        .inferior-wins2 {
            position: absolute;
            right: 520px;
            top: 44%;
            transform: translateY(-50%);
            font-family: 'Oswald', sans-serif;
            font-size: 60px;
            font-weight: regular;
            color: white;
            text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.9);
            z-index: 3;
            min-width: 835px;
            text-align: center;
        }

        /* Jogador 2 - Bandeira */
        .inferior-flag2 {
            position: absolute;
            right: 50px;
            top: 26%;
            transform: translateY(-50%);
            transform: translateX(-639%);
            height: 60px;
            width: auto;
            border: 1px solid rgba(255, 255, 255, 0.5);
            border-radius: 5px;
            background-color: rgba(255, 255, 255, 0.2);
            z-index: 3;
        }

        /* Jogador 2 - Pontos */
        .inferior-score2 {
            position: absolute;
            right: 200px;
            top: 44%;
            transform: translateY(-50%);
            font-family: 'Oswald', sans-serif;
            font-size: 78px;
            font-weight: regular;
            color: black;
            text-shadow: 2px 2px 2px rgba(0, 0, 0, 0.9);
            z-index: 3;
            min-width: 1205px;
            text-align: center;
        }

        /* Jogador 2 - Nome */
        .inferior-name2 {
            opacity: 0;
            position: absolute;
            right: 420px;
            top: 5%;
            transform: translateY(-50%);
            transform: translateX(80%);
            font-family: 'Oswald', sans-serif;
            font-size: 80px;
            font-weight: regular;
            text-transform: uppercase;
            color: white;
            text-shadow: 0px 0px 0px rgba(0, 0, 0, 0);
            z-index: 3;
            min-width:-500px;
        }

        /* Setas de seleção do Jogador 2 */
        .inferior-arrow-right {
            position: absolute;
            right: 10px;
            top: 43%;
            transform: translateY(-50%);
            font-size: 60px;
            color: white;
            cursor: pointer;
            text-shadow: 1px 1px 1px rgba(0, 0, 0, 0.9);
            z-index: 3;
            min-width: 73px;
            opacity: 0.2;                  /* invisível por padrão */
            transition: opacity 1s;    /* efeito suave */
            }

            .inferior-arrow-right::before {
            content: '◄';                /* seta apontando para a esquerda */
            }

            /* Quando estiver selecionado */
            .inferior-arrow-right.selected {
            opacity: 1;                  /* aparece */
            color: red;
        }

        /* BOTÃO PARA SEGUNDA TELA (TELA DA ARENA) */
        .second-screen-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 999;
            padding: 12px 20px;
            background-color: #28a745;
            color: white;
            border: none;
            border-radius: 50px;
            font-family: 'Oswald', sans-serif;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .second-screen-btn:hover {
            background-color: #218838;
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.4);
        }

        .second-screen-btn.active {
            background-color: #dc3545;
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(220, 53, 69, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(220, 53, 69, 0); }
            100% { box-shadow: 0 0 0 0 rgba(220, 53, 69, 0); }
        }

        .second-screen-btn i {
            font-size: 18px;
        }

        /* Ajustes responsivos */
        @media (max-width: 1200px) {
            .inferior-bar-container {
                width: 90%;
                height: 150px;
            }
            
            /* Ajustar posições para telas menores */
            .inferior-name1 { left: 160px; font-size: 28px; }
            .inferior-score1 { left: 340px; font-size: 40px; }
            .inferior-wins1 { left: 420px; font-size: 32px; }
            .inferior-flag1 { left: 40px; height: 60px; }
            .inferior-arrow-left { left: 5px; font-size: 40px; }
            
            .inferior-center-divider-left { left: 500px; font-size: 32px; }
            .inferior-best-of { left: 540px; font-size: 32px; }
            .inferior-center-divider-right { left: 590px; font-size: 32px; }
            
            .inferior-wins2 { right: 420px; font-size: 32px; }
            .inferior-flag2 { right: 40px; height: 60px; }
            .inferior-score2 { right: 160px; font-size: 40px; }
            .inferior-name2 { right: 340px; font-size: 28px; }
            .inferior-arrow-right { right: 5px; font-size: 40px; }
            
            .match-game-time-title {
                font-size: 22px;
            }
            
            .match-game-timer-title {
                font-size: 18px;
            }
            
            .match-game-timer-value {
                font-size: 28px;
                min-width: 150px;
            }
            
            .image-search-top-container {
                width: 250px;
            }
        }

        @media (max-width: 1000px) {
            .inferior-bar-container {
                width: 95%;
                height: 120px;
            }
            
            /* Ajustar ainda mais para telas menores */
            .inferior-name1 { left: 120px; font-size: 24px; min-width: 120px; }
            .inferior-score1 { left: 270px; font-size: 36px; }
            .inferior-wins1 { left: 340px; font-size: 28px; }
            .inferior-flag1 { left: 30px; height: 50px; }
            .inferior-arrow-left { left: 5px; font-size: 35px; }
            
            .inferior-center-divider-left { left: 400px; font-size: 28px; }
            .inferior-best-of { left: 440px; font-size: 28px; }
            .inferior-center-divider-right { left: 480px; font-size: 28px; }
            
            .inferior-wins2 { right: 340px; font-size: 28px; }
            .inferior-flag2 { right: 30px; height: 50px; }
            .inferior-score2 { right: 120px; font-size: 36px; }
            .inferior-name2 { right: 270px; font-size: 24px; min-width: 120px; }
            .inferior-arrow-right { right: 5px; font-size: 35px; }
            
            .match-game-time {
                width: 100%;
            }
            
            .match-game-time-title {
                font-size: 20px;
            }
            
            .match-game-timer-title {
                font-size: 16px;
            }
            
            .match-game-timer-value {
                font-size: 24px;
                min-width: 130px;
            }
            
            .timer-btn {
                font-size: 12px;
                padding: 5px 10px;
                min-width: 80px;
            }
            
            .global-control-btn {
                font-size: 12px;
                padding: 6px 12px;
                min-width: 100px;
            }
            
            .color-palette-container {
                flex-direction: column;
                gap: 10px;
            }
            
            .window-selector {
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .image-search-top-container {
                width: 200px;
                height: 45px;
                margin-left: 0;
                margin-top: 10px;
            }
        }

        @media (max-width: 600px) {
            h1 {
                font-size: 30px;
            }
            h2 {
                font-size: 30px;
            }
            p {
                font-size: 60px;
            }
            .difference p, .tacada p, .wins p, .best-of p, .break p, .difference-remaining p, .timer p, .average-time p, .match-time p, .balls-count p {
                font-size: 40px;
            }
            .buttons button {
                width: 50px;
                height: 50px;
                font-size: 20px;
            }
            .ball-3d {
                width: 24px;
                height: 24px;
                font-size: 12px;
            }
            .ball-3d::before {
                width: 8px;
                height: 8px;
            }
            .foul-buttons button {
                width: 60px;
                height: 60px;
                font-size: 25px;
            }
            .player-flag {
                height: 40px;
            }
            .flag-select {
                width: 150px;
            }
            
            h2.selected::before {
                left: -30px;
            }
            h2.selected.player2::before {
                right: -30px;
            }
            
            .player-photo {
                width: 90px;
                height: 120px;
            }
            
            .player1-photo {
                margin-right: 10px;
            }
            
            .player2-photo {
                margin-left: 10px;
            }
            
            .break h2 {
                font-size: 20px;
            }
            .break {
                width: 100%;
            }
            
            .color-palette-container {
                flex-direction: column;
                gap: 15px;
            }
            
            .window-selector {
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .match-game-time {
                width: 100%;
                padding: 8px;
            }
            
            .match-game-time-display {
                flex-direction: column;
                padding: 10px;
                gap: 15px;
            }
            
            .match-game-timer-section {
                width: 100%;
                padding: 10px;
            }
            
            .match-game-timer-divider {
                display: none;
            }
            
            .match-game-time-title {
                font-size: 18px;
            }
            
            .match-game-timer-title {
                font-size: 16px;
            }
            
            .match-game-timer-value {
                font-size: 24px;
                min-width: 140px;
            }
            
            .timer-btn {
                font-size: 12px;
                min-width: 90px;
            }
            
            .global-control-btn {
                font-size: 11px;
                min-width: 90px;
                padding: 5px 8px;
            }
            
            .inferior-bar-container {
                width: 100%;
                height: 100px;
            }
            
            /* Ajustes para telas muito pequenas */
            .inferior-name1 { left: 80px; font-size: 20px; min-width: 100px; }
            .inferior-score1 { left: 200px; font-size: 28px; }
            .inferior-wins1 { left: 260px; font-size: 22px; }
            .inferior-flag1 { left: 20px; height: 40px; display: none; } /* Esconder bandeiras em telas muito pequenas */
            .inferior-arrow-left { left: 5px; font-size: 25px; }
            
            .inferior-center-divider-left { left: 300px; font-size: 22px; }
            .inferior-best-of { left: 330px; font-size: 22px; }
            .inferior-center-divider-right { left: 360px; font-size: 22px; }
            
            .inferior-wins2 { right: 260px; font-size: 22px; }
            .inferior-flag2 { right: 20px; height: 40px; display: none; } /* Esconder bandeiras em telas muito pequenas */
            .inferior-score2 { right: 80px; font-size: 28px; }
            .inferior-name2 { right: 200px; font-size: 20px; min-width: 100px; }
            .inferior-arrow-right { right: 5px; font-size: 25px; }
            
            .image-search-top-container {
                width: 100%;
                height: 40px;
                margin-top: 10px;
            }
            
            .image-search-top-text {
                font-size: 12px;
            }
            
            .image-control-top-btn {
                width: 20px;
                height: 20px;
                font-size: 10px;
            }
            
            .second-screen-btn {
                bottom: 10px;
                right: 10px;
                padding: 10px 15px;
                font-size: 14px;
            }
        }

        /* AJUSTES PARA TELAS MAIORES */
        @media (min-width: 2000px) {
            .inferior-bar-container {
                width: 2048px;
                height: 147px;
            }
            
            /* Posições otimizadas para telas grandes */
            .inferior-name1 { left: 200px; }
            .inferior-score1 { left: 420px; }
            .inferior-wins1 { left: 520px; }
            .inferior-flag1 { left: 50px; }
            .inferior-arrow-left { left: 10px; font-size: 60px; }
            
            .inferior-center-divider-left { left: 620px; }
            .inferior-best-of { left: 660px; }
            .inferior-center-divider-right { left: 720px; }
            
            .inferior-wins2 { right: 520px; }
            .inferior-flag2 { right: 50px; }
            .inferior-score2 { right: 200px; }
            .inferior-name2 { right: 420px; }
            .inferior-arrow-right { right: 10px; font-size: 60px; }
            
            .image-search-top-container {
                width: 350px;
                height: 60px;
            }
        }
    </style>
</head>
<body>
    <h1>Placar de Snooker</h1>
    
    <!-- Botão para projeção em segunda tela (TELA DA ARENA) -->
    <button class="second-screen-btn" id="secondScreenBtn" onclick="toggleSecondScreen()">
        <i class="fas fa-desktop"></i> TELA DA ARENA
    </button>
    
    <!-- NOVA SEÇÃO: PALETA DE CORES COM JANELA DE IMAGEM -->
    <div class="color-palette-container">
        <div class="color-palette-title">Cores dos Fundos:</div>
        
        <div class="color-palette">
            <div class="color-item" style="background-color: #ffffff;" title="Branco" onclick="applyColor('#ffffff')"></div>
            <div class="color-item" style="background-color: #f8f9fa;" title="Cinza Claro" onclick="applyColor('#f8f9fa')"></div>
            <div class="color-item" style="background-color: #e9ecef;" title="Cinza Médio" onclick="applyColor('#e9ecef')"></div>
            <div class="color-item" style="background-color: #dee2e6;" title="Cinza" onclick="applyColor('#dee2e6')"></div>
            <div class="color-item" style="background-color: #007bff;" title="Azul" onclick="applyColor('#007bff')"></div>
            <div class="color-item" style="background-color: #28a745;" title="Verde" onclick="applyColor('#28a745')"></div>
            <div class="color-item" style="background-color: #ffc107;" title="Amarelo" onclick="applyColor('#ffc107')"></div>
            <div class="color-item" style="background-color: #dc3545;" title="Vermelho" onclick="applyColor('#dc3545')"></div>
            <div class="color-item" style="background-color: #101F7A;" title="Azul Escuro (BREAK)" onclick="applyColor('#101F7A')"></div>
            <div class="color-item" style="background-color: #6f42c1;" title="Roxo" onclick="applyColor('#6f42c1')"></div>
            <div class="color-item" style="background-color: #17a2b8;" title="Ciano" onclick="applyColor('#17a2b8')"></div>
            <div class="color-item" style="background-color: #343a40;" title="Preto" onclick="applyColor('#343a40')"></div>
        </div>
        
        <button class="color-picker-btn" onclick="activateEyeDropper()">
            <i class="fas fa-eye-dropper"></i> Capturar Cor
        </button>
        
        <!-- JANELA DE BUSCA DE IMAGEM NO TOPO -->
        <div class="image-search-top-container" id="imageSearchTopContainer">
            <!-- Área de busca de imagem -->
            <div class="image-search-top-box" id="imageSearchTopBox" onclick="document.getElementById('imageSearchTopInput').click()">
                <div class="image-search-top-text">
                    Clique para escolher imagem<br>para barra inferior
                </div>
                <input type="file" id="imageSearchTopInput" class="image-search-top-input" accept="image/*" onchange="handleImageSearch(event)">
            </div>
            
            <!-- Preview da imagem -->
            <div class="image-preview-top-container" id="imagePreviewTopContainer" style="display: none;">
                <div class="image-preview-top" id="imagePreviewTop">
                    <!-- A imagem será exibida aqui -->
                </div>
                <div class="image-preview-top-controls">
                    <button class="image-control-top-btn remove-image-top-btn" onclick="removeImage()" title="Remover imagem">
                        <i class="fas fa-trash"></i>
                    </button>
                </div>
            </div>
        </div>
        
        <!-- ATUALIZADO: MAIS BOTÕES PARA SELECIONAR JANELAS -->
        <div class="window-selector">
            <button class="window-btn active" onclick="selectWindow('all')">Todas</button>
            <button class="window-btn" onclick="selectWindow('player')">Jogadores</button>
            <button class="window-btn" onclick="selectWindow('difference')">Diferença</button>
            <button class="window-btn" onclick="selectWindow('tacada')">Tacada</button>
            <button class="window-btn" onclick="selectWindow('bestOf')">Melhor de</button>
            <button class="window-btn" onclick="selectWindow('wins')">Partidas</button>
            <button class="window-btn" onclick="selectWindow('break')">BREAK</button>
            <button class="window-btn" onclick="selectWindow('differenceRemaining')">Dif/Rest</button>
            <button class="window-btn" onclick="selectWindow('timer')">Temporizadores</button>
            <button class="window-btn" onclick="selectWindow('matchTime')">Tempo Partida</button>
            <button class="window-btn" onclick="selectWindow('inferiorBar')">Barra Inferior</button>
        </div>
    </div>
    
    <div class="font-controls">
        <select id="fontSelector">
            <option value="'Oswald', sans-serif">Oswald</option>
            <option value="'Asap', sans-serif">Asap</option>
            <option value="'Barlow Semi Condensed', sans-serif">Barlow Condensed</option>
            <option value="'Bebas Neue', sans-serif">Bebas Neue</option>
            <option value="'Bree Serif', serif">Bree Serif</option>
            <option value="'Fira Sans Condensed', sans-serif">Fira Sans</option>
            <option value="'IBM Plex Sans', sans-serif">IBM Plex</option>
            <option value="'Merriweather Sans', sans-serif">Merriweather</option>
            <option value="'Roboto', sans-serif">Roboto</option>
            <option value="'Roboto Condensed', sans-serif">Roboto Condensed</option>
            <option value="'Roboto Slab', serif">Roboto Slab</option>
            <option value="'Saira', sans-serif">Saira</option>
            <option value="'Signika', sans-serif">Signika</option>
            <option value="'Signika Negative', sans-serif">Signika Negative</option>
            <option value="'Winky Sans', sans-serif">Winky Sans</option>
            <option value="Arial, sans-serif">Arial</option>
            <option value="'Times New Roman', serif">Times New Roman</option>
        </select>
        <button onclick="applyFont()">Aplicar Fonte</button>
    </div>
    <div class="game-mode-controls">
        <label>
            <input type="checkbox" id="sixRedMode" onchange="updateGameMode()"> SIX RED
        </label>
        <label>
            <input type="checkbox" id="englishRuleMode" onchange="updateGameMode()"> REGRA INGLESA
        </label>
    </div>
    <div class="font-style-controls">
        <button onclick="applyFontStyle('normal')">Normal</button>
        <button onclick="applyFontStyle('bold')">Negrito</button>
        <button onclick="applyFontStyle('italic')">Itálico</button>
    </div>
    <div class="flag-container">
        <div>
            <select id="player1Flag" class="flag-select" onchange="updateFlags()">
                <option value="">Selecione a bandeira (Jogador 1)</option>
                <!-- Bandeiras dos estados brasileiros -->
                <option value="https://i.imgur.com/fE1YH7G.png">Acre</option>
                <option value="https://i.imgur.com/6V4oMvf.png">Alagoas</option>
                <option value="https://i.imgur.com/DoH9kLZ.png">Amapá</option>
                <option value="https://i.imgur.com/Zjz7zNR.png">Amazonas</option>
                <option value="https://i.imgur.com/Skqguez.png">Bahia</option>
                <option value="https://i.imgur.com/KsD1KFU.png">Ceará</option>
                <option value="https://i.imgur.com/bHLp1ax.png">Distrito Federal</option>
                <option value="https://i.imgur.com/Ut2nmCp.png">Espírito Santo</option>
                <option value="https://i.imgur.com/12kbfwi.png">Goiás</option>
                <option value="https://i.imgur.com/pui4bUV.png">Maranhão</option>
                <option value="https://i.imgur.com/NNceEWM.png">Mato Grosso</option>
                <option value="https://i.imgur.com/IuBrArF.png">Mato Grosso do Sul</option>
                <option value="https://i.imgur.com/gAsWExw.png">Minas Gerais</option>
                <option value="https://i.imgur.com/d8zGlxb.png">Pará</option>
                <option value="https://i.imgur.com/fT3JN9O.png">Paraíba</option>
                <option value="https://i.imgur.com/1garxId.png">Paraná</option>
                <option value="https://i.imgur.com/VYVZE9s.png">Pernambuco</option>
                <option value="https://i.imgur.com/QBEKhXR.png">Piauí</option>
                <option value="https://i.imgur.com/XRQXx70.png">Rio de Janeiro</option>
                <option value="https://i.imgur.com/QFPnahM.png">Rio Grande do Norte</option>
                <option value="https://i.imgur.com/JxscBet.png">Rio Grande do Sul</option>
                <option value="https://i.imgur.com/BFTBH7G.png">Rondônia</option>
                <option value="https://i.imgur.com/W2TfeFi.png">Roraima</option>
                <option value="https://i.imgur.com/7NslIxf.png">Santa Catarina</option>
                <option value="https://i.imgur.com/u0PbIWv.png">São Paulo</option>
                <option value="https://i.imgur.com/Iab3E35.png">Sergipe</option>
                <option value="https://i.imgur.com/gpwJCDI.png">Tocantins</option>
                
                <!-- Bandeiras da América do Sul -->
                <option value="https://imgur.com/mBSw3U8.png">Brasil</option>
                <option value="https://imgur.com/r2k52RI.png">Argentina</option>
                <option value="https://imgur.com/LTwAaoc.png">Bolívia</option>
                <option value="https://imgur.com/staYqqs.png">Chile</option>
                <option value="https://imgur.com/SF68q9h.png">Colômbia</option>
                <option value="https://imgur.com/Ero3eUk.png">Equador</option>
                <option value="https://imgur.com/5g3HdOn.png">Guiana Francesa</option>
                <option value="https://imgur.com/ked0ir8.png">Guiana</option>
                <option value="https://imgur.com/BJslH1t.png">Ilhas Falkland</option>
                <option value="https://imgur.com/CJvzJxv.png">Ilhas da Geórgia do Sul e Sandwich do Sul</option>
                <option value="https://imgur.com/S3Sqnbu.png">Paraguai</option>
                <option value="https://imgur.com/dmaE2Wp.png">Peru</option>
                <option value="https://imgur.com/DZE1M3c.png">Suriname</option>
                <option value="https://imgur.com/kIFSFnt.png">Uruguai</option>
                <option value="https://imgur.com/2psp9xT.png">Venezuela</option>
                
                <!-- Bandeiras da América do Norte -->
                <option value="https://imgur.com/GEo4fH8.png">Antigua e Bermuda</option>
                <option value="https://imgur.com/DlbTvDr.png">Bahamas</option>
                <option value="https://imgur.com/o7hfccV.png">Barbados</option>
                <option value="https://imgur.com/DovvcU4.png">Belize</option>
                <option value="https://imgur.com/werhMGj.png">Canadá</option>
                <option value="https://imgur.com/8gd2t3g.png">Costa Rica</option>
                <option value="https://imgur.com/5452LLj.png">Cuba</option>
                <option value="https://imgur.com/Q2ekaGx.png">Dominica</option>
                <option value="https://imgur.com/loqPPgj.png">El Salvador</option>
                <option value="https://imgur.com/SyPqLot.png">Estados Unidos</option>
                <option value="https://imgur.com/izcuaBM.png">Granada</option>
                <option value="https://imgur.com/WZ1FUj8.png">Haiti</option>
                <option value="https://imgur.com/4fawvzO.png">Honduras</option>
                <option value="https://imgur.com/l7a5IiC.png">Jamaica</option>
                <option value="https://imgur.com/q7KxyLb.png">México</option>
                <option value="https://imgur.com/zkUDk1l.png">Nicarágua</option>
                <option value="https://imgur.com/040L5WG.png">Panamá</option>
                <option value="https://imgur.com/cLKY09J.png">República Dominicana</option>
                <option value="https://imgur.com/0l67Olh.png">Santa Lúcia</option>
                <option value="https://imgur.com/ihMk5jB.png">São Vicente e Granadinas</option>
                <option value="https://imgur.com/YKNg4wX.png">Trinidad e Tobago</option>
	<option value="https://i.imgur.com/qe0ji2F.jpeg">Albânia</option>
	<option value="https://i.imgur.com/w37dCyx.jpeg">Alemanha</option>
<option value="https://i.imgur.com/UiZczkI.jpeg">Andorra</option>
<option value="https://i.imgur.com/KHtfl20.jpeg">Armênia</option>
<option value="https://i.imgur.com/BrDtt3X.jpeg">Áustria</option>
<option value="https://i.imgur.com/4Thq11I.jpeg">Azerbaijão</option>
<option value="https://i.imgur.com/uzUhEu7.jpeg">Bélgica</option>
<option value="https://i.imgur.com/GqelRYD.jpeg">Bielorrússia</option>
<option value="https://i.imgur.com/wDm4gRk.jpeg">Bósnia e Herzegovina</option>
<option value="https://i.imgur.com/etbG3lF.jpeg">Bulgária</option>
<option value="https://i.imgur.com/JkXT5tj.jpeg">Cazaquistão</option>
<option value="https://i.imgur.com/rRD6puW.jpeg">Chipre</option>
<option value="https://i.imgur.com/Z7laapi.jpeg">Croácia</option>
<option value="https://i.imgur.com/VAViidB.jpeg">Dinamarca</option>
<option value="https://i.imgur.com/Z7laapi.jpeg">Escócia</option>
<option value="https://i.imgur.com/WOJQVoc.jpeg">Eslováquia</option>
<option value="https://i.imgur.com/Y5893eA.jpeg">Eslovênia</option>
<option value="https://i.imgur.com/WorZkIN.jpeg">Espanha</option>
<option value="https://i.imgur.com/HpMc9ZS.jpeg">Estônia</option>
<option value="https://i.imgur.com/7DkBu8C.jpeg">Finlândia</option>
<option value="https://i.imgur.com/Az76D9A.jpeg">França</option>
<option value="https://i.imgur.com/5lShCzP.jpeg">Geórgia</option>
<option value="https://i.imgur.com/yzr1fIW.jpeg">Grécia</option>
<option value="https://i.imgur.com/giloq9g.jpeg">Holanda</option>
<option value="https://i.imgur.com/A2tNHf7.jpeg">Hungria</option>
<option value="https://i.imgur.com/GaS7B7W.jpeg">Inglaterra</option>
<option value="https://i.imgur.com/9GRLWKC.jpeg">Irlanda do Norte</option>
<option value="https://i.imgur.com/aY0IcNs.jpeg">Irlanda</option>
<option value="https://i.imgur.com/m6bclCr.jpeg">Islândia</option>
<option value="https://i.imgur.com/YiBBUWS.jpeg">Itália</option>
<option value="https://i.imgur.com/C0vebLI.jpeg">Kosovo</option>
<option value="https://i.imgur.com/RQIo1QM.jpeg">Letônia</option>
<option value="https://i.imgur.com/phM7epT.jpeg">Liechtenstein</option>
<option value="https://i.imgur.com/uju0Wkl.jpeg">Lituânia</option>
<option value="https://i.imgur.com/UDgBgXA.jpeg">Luxemburgo</option>
<option value="https://i.imgur.com/s05aOXW.jpeg">Malta</option>
<option value="https://i.imgur.com/Uu3jIlL.jpeg">Moldávia</option>
<option value="https://i.imgur.com/mttjUuF.jpeg">Mônaco</option>
<option value="https://i.imgur.com/tndxDcZ.jpeg">Montenegro</option>
<option value="https://i.imgur.com/5h7D5R7.jpeg">Noruega</option>
<option value="https://i.imgur.com/4JT4ViO.jpeg">País de Gales</option>
<option value="https://i.imgur.com/MlcQKQm.jpeg">Polônia</option>
<option value="https://i.imgur.com/Uu0W9sc.jpeg">Portugal</option>
<option value="https://i.imgur.com/9z712bU.jpeg">República Tcheca</option>
<option value="https://i.imgur.com/QJXM9al.jpeg">Romênia</option>
<option value="https://i.imgur.com/TgXvAd0.jpeg">Rússia</option>
<option value="https://i.imgur.com/2SY8DzE.jpeg">San Marino</option>
<option value="https://i.imgur.com/SDdJ1ix.jpeg">Sérvia</option>
<option value="https://i.imgur.com/DNP6vH2.jpeg">Suécia</option>
<option value="https://i.imgur.com/JS4FXsI.jpeg">Suíça</option>
<option value="https://i.imgur.com/Pp63eOh.jpeg">Turquia</option>
<option value="https://i.imgur.com/RQYW76J.jpeg">Ucrânia</option>
<option value="https://i.imgur.com/97GuHWU.jpeg">Vaticano</option>
<option value="https://i.imgur.com/aReQAHm.jpeg">Afeganistão</option>
<option value="https://i.imgur.com/cZQpSM3.jpeg">Arábia Saudita</option>
<option value="https://i.imgur.com/htixkye.jpeg">Bahrein</option>
<option value="https://i.imgur.com/ShrJDgV.jpeg">Bangladesh</option>
<option value="https://i.imgur.com/425EfrB.jpeg">Brunei</option>
<option value="https://i.imgur.com/tXFhfEh.jpeg">Butão</option>
<option value="https://i.imgur.com/RRAt2qH.jpeg">Camboja</option>
<option value="https://i.imgur.com/qqnMyFz.jpeg">China</option>
<option value="https://i.imgur.com/lzn2Pmv.jpeg">Coreia do Norte</option>
<option value="https://i.imgur.com/L2v4R2w.jpeg">Coreia do Sul</option>
<option value="https://i.imgur.com/HKTeuWY.jpeg">Emirados Árabes Unidos</option>
<option value="https://i.imgur.com/BETP17d.jpeg">Filipinas</option>
<option value="https://i.imgur.com/vLZAH95.jpeg">Iémen</option>
<option value="https://i.imgur.com/vRyb6Jt.jpeg">Índia</option>
<option value="https://i.imgur.com/wblsX3q.jpeg">Indonésia</option>
<option value="https://i.imgur.com/vj3fCOG.jpeg">Irã</option>
<option value="https://i.imgur.com/y8abg4D.jpeg">Iraque</option>
<option value="https://i.imgur.com/VCphHTO.jpeg">Israel</option>
<option value="https://i.imgur.com/aVG9V5i.jpeg">Japão</option>
<option value="https://i.imgur.com/g0qaPYe.jpeg">Jordânia</option>
<option value="https://i.imgur.com/OZXdBZV.jpeg">Kuwait</option>
<option value="https://i.imgur.com/0ucul5A.jpeg">Laos</option>
<option value="https://i.imgur.com/xpnmGxr.jpeg">Líbano</option>
<option value="https://i.imgur.com/ef03cgq.jpeg">Malásia</option>
<option value="https://i.imgur.com/3xENGf9.jpeg">Maldivas</option>
<option value="https://i.imgur.com/P3GPilX.jpeg">Mianmar</option>
<option value="https://i.imgur.com/11rdcTk.jpeg">Mongólia</option>
<option value="https://i.imgur.com/7IWSXpr.png">Nepal</option>
<option value="https://i.imgur.com/8EtAuQ5.jpeg">Omã</option>
<option value="https://i.imgur.com/nnHLqjf.jpeg">Palestina</option>
<option value="https://i.imgur.com/50k85ng.jpeg">Paquistão</option>
<option value="https://i.imgur.com/Of6qU7R.jpeg">Qatar</option>
<option value="https://i.imgur.com/EkjTVzJ.jpeg">Quirguistão</option>
<option value="https://i.imgur.com/2POrZa9.jpeg">Singapura</option>
<option value="https://i.imgur.com/r7MUfwr.jpeg">Síria</option>
<option value="https://i.imgur.com/GX6hgBd.jpeg">Sri Lanka</option>
<option value="https://i.imgur.com/3RQlqJX.jpeg">Tailândia</option>
<option value="https://i.imgur.com/gSten0B.jpeg">Tajiquistão</option>
<option value="https://i.imgur.com/NZVSpD4.jpeg">Timor-Leste</option>
<option value="https://i.imgur.com/wbNBos9.jpeg">Turcomenistão</option>
<option value="https://i.imgur.com/UQkUyRU.jpeg">Uzbequistão</option>
<option value="https://i.imgur.com/ejdSTVB.jpeg">Vietnã</option>
<option value="https://i.imgur.com/lYBMRTZ.jpeg">Austrália</option>
<option value="https://i.imgur.com/HH2TpIV.jpeg">Fiji</option>
<option value="https://i.imgur.com/r8FXfov.jpeg">Ilhas Marshall</option>
<option value="https://i.imgur.com/Cxkwmy8.jpeg">Ilhas Salomão</option>
<option value="https://i.imgur.com/BK2F7NP.jpeg">Kiribati</option>
<option value="https://i.imgur.com/DNl8w91.jpeg">Micronésia</option>
<option value="https://i.imgur.com/MFSLCXP.jpeg">Nauru</option>
<option value="https://i.imgur.com/mQURgiX.jpeg">Nova Zelândia</option>
<option value="https://i.imgur.com/iya7j5e.jpeg">Palau</option>
<option value="https://i.imgur.com/67rG880.jpeg">Papua-Nova Guiné</option>
<option value="https://i.imgur.com/Te2T9q9.jpeg">Samoa</option>
<option value="https://i.imgur.com/hlskuMu.jpeg">Tonga</option>
<option value="https://i.imgur.com/JkIsGZN.jpeg">Tuvalu</option>
<option value="https://i.imgur.com/diN6bqi.jpeg">Vanuatu</option>
<option value="https://i.imgur.com/mucUwRy.jpeg">África do Sul</option>
<option value="https://i.imgur.com/8eTY1dH.jpeg">Angola</option>
<option value="https://i.imgur.com/pqJ0QP0.jpeg">Argelia</option>
<option value="https://i.imgur.com/jrhB5JA.jpeg">Benim</option>
<option value="https://i.imgur.com/I0YkYNY.jpeg">Botswana</option>
<option value="https://i.imgur.com/7Wo78M7.jpeg">Burkina Faso</option>
<option value="https://i.imgur.com/HWalH1m.jpeg">Burundi</option>
<option value="https://i.imgur.com/L9vWjqN.jpeg">Cabo Verde</option>
<option value="https://i.imgur.com/nxQyjg7.jpeg">Camarões</option>
<option value="https://i.imgur.com/tlJDv8f.jpeg">Chade</option>
<option value="https://i.imgur.com/wA3qrtS.jpeg">Comores</option>
<option value="https://i.imgur.com/e3LRv1E.jpeg">Congo</option>
<option value="https://i.imgur.com/ZADV3LI.jpeg">Costa de Marfim</option>
<option value="https://i.imgur.com/N6yYpF6.jpeg">Djibuti</option>
<option value="https://i.imgur.com/cTzlWj3.jpeg">Egito</option>
<option value="https://i.imgur.com/JF7vhv7.jpeg">Eritreia</option>
<option value="https://i.imgur.com/1XGQFaq.jpeg">Essuatini (Suazilândia)</option>
<option value="https://i.imgur.com/eDMlG6e.jpeg">Etiópia</option>
<option value="https://i.imgur.com/rCTs8hC.jpeg">Gabão</option>
<option value="https://i.imgur.com/1ddsfBs.jpeg">Gâmbia</option>
<option value="https://i.imgur.com/3jaG0No.jpeg">Gana</option>
<option value="https://i.imgur.com/MGRK8jr.jpeg">Guiné Equatorial</option>
<option value="https://i.imgur.com/z6a2G4u.jpeg">Guiné</option>
<option value="https://i.imgur.com/5tYqAMB.jpeg">Guiné-Bissau</option>
<option value="https://i.imgur.com/W4tZDKs.jpeg">Lesoto</option>
<option value="https://i.imgur.com/GBIkNmu.jpeg">Libéria</option>
<option value="https://i.imgur.com/5OcYWVH.jpeg">Líbia</option>
<option value="https://i.imgur.com/VEYaTRv.jpeg">Madagascar</option>
<option value="https://i.imgur.com/9inGaH2.jpeg">Malaui</option>
<option value="https://i.imgur.com/OpqLL1P.jpeg">Mali</option>
<option value="https://i.imgur.com/wiqDtGC.jpeg">Marrocos</option>
<option value="https://i.imgur.com/J2inkTK.jpeg">Maurício</option>
<option value="https://i.imgur.com/BvIMDXR.jpeg">Mauritânia</option>
<option value="https://i.imgur.com/a3E3yHq.jpeg">Moçambique</option>
<option value="https://i.imgur.com/o0S8eUr.jpeg">Namíbia</option>
<option value="https://i.imgur.com/9H0noid.jpeg">Níger</option>
<option value="https://i.imgur.com/Dq9Ui8M.jpeg">Nigéria</option>
<option value="https://i.imgur.com/aOhmYWp.jpeg">Quênia</option>
<option value="https://i.imgur.com/cGLHFJL.jpeg">República Centro-Africana</option>
<option value="https://i.imgur.com/q7jVKpN.jpeg">Ruanda</option>
<option value="https://i.imgur.com/3deyMVH.jpeg">São Tomé e Príncipe</option>
<option value="https://i.imgur.com/2k0ShPS.jpeg">Senegal</option>
<option value="https://i.imgur.com/AV4GkbC.jpeg">Serra Leoa</option>
<option value="https://i.imgur.com/gMSc4B7.jpeg">Seychelles</option>
<option value="https://i.imgur.com/OPCxZHr.jpeg">Somália</option>
<option value="https://i.imgur.com/cAHwnVi.jpeg">Sudão do Sul</option>
<option value="https://i.imgur.com/PyH4mQx.jpeg">Sudão</option>
<option value="https://i.imgur.com/SagRyal.jpeg">Tanzânia</option>
<option value="https://i.imgur.com/k3QOjOe.jpeg">Togo</option>
<option value="https://i.imgur.com/sknEFkS.jpeg">Tunísia</option>
<option value="https://i.imgur.com/UVeEGP5.jpeg">Uganda</option>
<option value="https://i.imgur.com/D3qY2Xf.jpeg">Zâmbia</option>
<option value="https://i.imgur.com/oXwHiEO.jpeg">Zimbabwe</option>
            </select>
        </div>
        <div>
            <select id="player2Flag" class="flag-select" onchange="updateFlags()">
                <option value="">Selecione a bandeira (Jogador 2)</option>
                <!-- Bandeiras dos estados brasileiros -->
                <option value="https://i.imgur.com/fE1YH7G.png">Acre</option>
                <option value="https://i.imgur.com/6V4oMvf.png">Alagoas</option>
                <option value="https://i.imgur.com/DoH9kLZ.png">Amapá</option>
                <option value="https://i.imgur.com/Zjz7zNR.png">Amazonas</option>
                <option value="https://i.imgur.com/Skqguez.png">Bahia</option>
                <option value="https://i.imgur.com/KsD1KFU.png">Ceará</option>
                <option value="https://i.imgur.com/bHLp1ax.png">Distrito Federal</option>
                <option value="https://i.imgur.com/Ut2nmCp.png">Espírito Santo</option>
                <option value="https://i.imgur.com/12kbfwi.png">Goiás</option>
                <option value="https://i.imgur.com/pui4bUV.png">Maranhão</option>
                <option value="https://i.imgur.com/NNceEWM.png">Mato Grosso</option>
                <option value="https://i.imgur.com/IuBrArF.png">Mato Grosso do Sul</option>
                <option value="https://i.imgur.com/gAsWExw.png">Minas Gerais</option>
                <option value="https://i.imgur.com/d8zGlxb.png">Pará</option>
                <option value="https://i.imgur.com/fT3JN9O.png">Paraíba</option>
                <option value="https://i.imgur.com/1garxId.png">Paraná</option>
                <option value="https://i.imgur.com/VYVZE9s.png">Pernambuco</option>
                <option value="https://i.imgur.com/QBEKhXR.png">Piauí</option>
                <option value="https://i.imgur.com/XRQXx70.png">Rio de Janeiro</option>
                <option value="https://i.imgur.com/QFPnahM.png">Rio Grande do Norte</option>
                <option value="https://i.imgur.com/JxscBet.png">Rio Grande do Sul</option>
                <option value="https://i.imgur.com/BFTBH7G.png">Rondônia</option>
                <option value="https://i.imgur.com/W2TfeFi.png">Roraima</option>
                <option value="https://i.imgur.com/7NslIxf.png">Santa Catarina</option>
                <option value="https://i.imgur.com/u0PbIWv.png">São Paulo</option>
                <option value="https://i.imgur.com/Iab3E35.png">Sergipe</option>
                <option value="https://i.imgur.com/gpwJCDI.png">Tocantins</option>
                <!-- Bandeiras da América do Sul -->
                <option value="https://imgur.com/mBSw3U8.png">Brasil</option>
                <option value="https://imgur.com/r2k52RI.png">Argentina</option>
                <option value="https://imgur.com/LTwAaoc.png">Bolívia</option>
                <option value="https://imgur.com/staYqqs.png">Chile</option>
                <option value="https://imgur.com/SF68q9h.png">Colômbia</option>
                <option value="https://imgur.com/Ero3eUk.png">Equador</option>
                <option value="https://imgur.com/5g3HdOn.png">Guiana Francesa</option>
                <option value="https://imgur.com/ked0ir8.png">Guiana</option>
                <option value="https://imgur.com/BJslH1t.png">Ilhas Falkland</option>
                <option value="https://imgur.com/CJvzJxv.png">Ilhas da Geórgia do Sul e Sandwich do Sul</option>
                <option value="https://imgur.com/S3Sqnbu.png">Paraguai</option>
                <option value="https://imgur.com/dmaE2Wp.png">Peru</option>
                <option value="https://imgur.com/DZE1M3c.png">Suriname</option>
                <option value="https://imgur.com/kIFSFnt.png">Uruguai</option>
                <option value="https://imgur.com/2psp9xT.png">Venezuela</option>
                
                <!-- Bandeiras da América do Norte -->
                <option value="https://imgur.com/GEo4fH8.png">Antigua e Bermuda</option>
                <option value="https://imgur.com/DlbTvDr.png">Bahamas</option>
                <option value="https://imgur.com/o7hfccV.png">Barbados</option>
                <option value="https://imgur.com/DovvcU4.png">Belize</option>
                <option value="https://imgur.com/werhMGj.png">Canadá</option>
                <option value="https://imgur.com/8gd2t3g.png">Costa Rica</option>
                <option value="https://imgur.com/5452LLj.png">Cuba</option>
                <option value="https://imgur.com/Q2ekaGx.png">Dominica</option>
                <option value="https://imgur.com/loqPPgj.png">El Salvador</option>
                <option value="https://imgur.com/SyPqLot.png">Estados Unidos</option>
                <option value="https://imgur.com/izcuaBM.png">Granada</option>
                <option value="https://imgur.com/WZ1FUj8.png">Haiti</option>
                <option value="https://imgur.com/4fawvzO.png">Honduras</option>
                <option value="https://imgur.com/l7a5IiC.png">Jamaica</option>
                <option value="https://imgur.com/q7KxyLb.png">México</option>
                <option value="https://imgur.com/zkUDk1l.png">Nicarágua</option>
                <option value="https://imgur.com/040L5WG.png">Panamá</option>
                <option value="https://imgur.com/cLKY09J.png">República Dominicana</option>
                <option value="https://imgur.com/0l67Olh.png">Santa Lúcia</option>
                <option value="https://imgur.com/ihMk5jB.png">São Vicente e Granadinas</option>
                <option value="https://imgur.com/YKNg4wX.png">Trinidad e Tobago</option>
<option value="https://i.imgur.com/qe0ji2F.jpeg">Albânia</option>
<option value="https://i.imgur.com/w37dCyx.jpeg">Alemanha</option>
<option value="https://i.imgur.com/UiZczkI.jpeg">Andorra</option>
<option value="https://i.imgur.com/KHtfl20.jpeg">Armênia</option>
<option value="https://i.imgur.com/BrDtt3X.jpeg">Áustria</option>
<option value="https://i.imgur.com/4Thq11I.jpeg">Azerbaijão</option>
<option value="https://i.imgur.com/uzUhEu7.jpeg">Bélgica</option>
<option value="https://i.imgur.com/GqelRYD.jpeg">Bielorrússia</option>
<option value="https://i.imgur.com/wDm4gRk.jpeg">Bósnia e Herzegovina</option>
<option value="https://i.imgur.com/etbG3lF.jpeg">Bulgária</option>
<option value="https://i.imgur.com/JkXT5tj.jpeg">Cazaquistão</option>
<option value="https://i.imgur.com/rRD6puW.jpeg">Chipre</option>
<option value="https://i.imgur.com/Z7laapi.jpeg">Croácia</option>
<option value="https://i.imgur.com/VAViidB.jpeg">Dinamarca</option>
<option value="https://i.imgur.com/Z7laapi.jpeg">Escócia</option>
<option value="https://i.imgur.com/WOJQVoc.jpeg">Eslováquia</option>
<option value="https://i.imgur.com/Y5893eA.jpeg">Eslovênia</option>
<option value="https://i.imgur.com/WorZkIN.jpeg">Espanha</option>
<option value="https://i.imgur.com/HpMc9ZS.jpeg">Estônia</option>
<option value="https://i.imgur.com/7DkBu8C.jpeg">Finlândia</option>
<option value="https://i.imgur.com/Az76D9A.jpeg">França</option>
<option value="https://i.imgur.com/5lShCzP.jpeg">Geórgia</option>
<option value="https://i.imgur.com/yzr1fIW.jpeg">Grécia</option>
<option value="https://i.imgur.com/giloq9g.jpeg">Holanda</option>
<option value="https://i.imgur.com/A2tNHf7.jpeg">Hungria</option>
<option value="https://i.imgur.com/GaS7B7W.jpeg">Inglaterra</option>
<option value="https://i.imgur.com/9GRLWKC.jpeg">Irlanda do Norte</option>
<option value="https://i.imgur.com/aY0IcNs.jpeg">Irlanda</option>
<option value="https://i.imgur.com/m6bclCr.jpeg">Islândia</option>
<option value="https://i.imgur.com/YiBBUWS.jpeg">Itália</option>
<option value="https://i.imgur.com/C0vebLI.jpeg">Kosovo</option>
<option value="https://i.imgur.com/RQIo1QM.jpeg">Letônia</option>
<option value="https://i.imgur.com/phM7epT.jpeg">Liechtenstein</option>
<option value="https://i.imgur.com/uju0Wkl.jpeg">Lituânia</option>
<option value="https://i.imgur.com/UDgBgXA.jpeg">Luxemburgo</option>
<option value="https://i.imgur.com/s05aOXW.jpeg">Malta</option>
<option value="https://i.imgur.com/Uu3jIlL.jpeg">Moldávia</option>
<option value="https://i.imgur.com/mttjUuF.jpeg">Mônaco</option>
<option value="https://i.imgur.com/tndxDcZ.jpeg">Montenegro</option>
<option value="https://i.imgur.com/5h7D5R7.jpeg">Noruega</option>
<option value="https://i.imgur.com/4JT4ViO.jpeg">País de Gales</option>
<option value="https://i.imgur.com/MlcQKQm.jpeg">Polônia</option>
<option value="https://i.imgur.com/Uu0W9sc.jpeg">Portugal</option>
<option value="https://i.imgur.com/9z712bU.jpeg">República Tcheca</option>
<option value="https://i.imgur.com/QJXM9al.jpeg">Romênia</option>
<option value="https://i.imgur.com/TgXvAd0.jpeg">Rússia</option>
<option value="https://i.imgur.com/2SY8DzE.jpeg">San Marino</option>
<option value="https://i.imgur.com/SDdJ1ix.jpeg">Sérvia</option>
<option value="https://i.imgur.com/DNP6vH2.jpeg">Suécia</option>
<option value="https://i.imgur.com/JS4FXsI.jpeg">Suíça</option>
<option value="https://i.imgur.com/Pp63eOh.jpeg">Turquia</option>
<option value="https://i.imgur.com/RQYW76J.jpeg">Ucrânia</option>
<option value="https://i.imgur.com/97GuHWU.jpeg">Vaticano</option>
<option value="https://i.imgur.com/aReQAHm.jpeg">Afeganistão</option>
<option value="https://i.imgur.com/cZQpSM3.jpeg">Arábia Saudita</option>
<option value="https://i.imgur.com/htixkye.jpeg">Bahrein</option>
<option value="https://i.imgur.com/ShrJDgV.jpeg">Bangladesh</option>
<option value="https://i.imgur.com/425EfrB.jpeg">Brunei</option>
<option value="https://i.imgur.com/tXFhfEh.jpeg">Butão</option>
<option value="https://i.imgur.com/RRAt2qH.jpeg">Camboja</option>
<option value="https://i.imgur.com/qqnMyFz.jpeg">China</option>
<option value="https://i.imgur.com/lzn2Pmv.jpeg">Coreia do Norte</option>
<option value="https://i.imgur.com/L2v4R2w.jpeg">Coreia do Sul</option>
<option value="https://i.imgur.com/HKTeuWY.jpeg">Emirados Árabes Unidos</option>
<option value="https://i.imgur.com/BETP17d.jpeg">Filipinas</option>
<option value="https://i.imgur.com/vLZAH95.jpeg">Iémen</option>
<option value="https://i.imgur.com/vRyb6Jt.jpeg">Índia</option>
<option value="https://i.imgur.com/wblsX3q.jpeg">Indonésia</option>
<option value="https://i.imgur.com/vj3fCOG.jpeg">Irã</option>
<option value="https://i.imgur.com/y8abg4D.jpeg">Iraque</option>
<option value="https://i.imgur.com/VCphHTO.jpeg">Israel</option>
<option value="https://i.imgur.com/aVG9V5i.jpeg">Japão</option>
<option value="https://i.imgur.com/g0qaPYe.jpeg">Jordânia</option>
<option value="https://i.imgur.com/OZXdBZV.jpeg">Kuwait</option>
<option value="https://i.imgur.com/0ucul5A.jpeg">Laos</option>
<option value="https://i.imgur.com/xpnmGxr.jpeg">Líbano</option>
<option value="https://i.imgur.com/ef03cgq.jpeg">Malásia</option>
<option value="https://i.imgur.com/3xENGf9.jpeg">Maldivas</option>
<option value="https://i.imgur.com/P3GPilX.jpeg">Mianmar</option>
<option value="https://i.imgur.com/11rdcTk.jpeg">Mongólia</option>
<option value="https://i.imgur.com/7IWSXpr.png">Nepal</option>
<option value="https://i.imgur.com/8EtAuQ5.jpeg">Omã</option>
<option value="https://i.imgur.com/nnHLqjf.jpeg">Palestina</option>
<option value="https://i.imgur.com/50k85ng.jpeg">Paquistão</option>
<option value="https://i.imgur.com/Of6qU7R.jpeg">Qatar</option>
<option value="https://i.imgur.com/EkjTVzJ.jpeg">Quirguistão</option>
<option value="https://i.imgur.com/2POrZa9.jpeg">Singapura</option>
<option value="https://i.imgur.com/r7MUfwr.jpeg">Síria</option>
<option value="https://i.imgur.com/GX6hgBd.jpeg">Sri Lanka</option>
<option value="https://i.imgur.com/3RQlqJX.jpeg">Tailândia</option>
<option value="https://i.imgur.com/gSten0B.jpeg">Tajiquistão</option>
<option value="https://i.imgur.com/NZVSpD4.jpeg">Timor-Leste</option>
<option value="https://i.imgur.com/wbNBos9.jpeg">Turcomenistão</option>
<option value="https://i.imgur.com/UQkUyRU.jpeg">Uzbequistão</option>
<option value="https://i.imgur.com/ejdSTVB.jpeg">Vietnã</option>
<option value="https://i.imgur.com/lYBMRTZ.jpeg">Austrália</option>
<option value="https://i.imgur.com/HH2TpIV.jpeg">Fiji</option>
<option value="https://i.imgur.com/r8FXfov.jpeg">Ilhas Marshall</option>
<option value="https://i.imgur.com/Cxkwmy8.jpeg">Ilhas Salomão</option>
<option value="https://i.imgur.com/BK2F7NP.jpeg">Kiribati</option>
<option value="https://i.imgur.com/DNl8w91.jpeg">Micronésia</option>
<option value="https://i.imgur.com/MFSLCXP.jpeg">Nauru</option>
<option value="https://i.imgur.com/mQURgiX.jpeg">Nova Zelândia</option>
<option value="https://i.imgur.com/iya7j5e.jpeg">Palau</option>
<option value="https://i.imgur.com/67rG880.jpeg">Papua-Nova Guiné</option>
<option value="https://i.imgur.com/Te2T9q9.jpeg">Samoa</option>
<option value="https://i.imgur.com/hlskuMu.jpeg">Tonga</option>
<option value="https://i.imgur.com/JkIsGZN.jpeg">Tuvalu</option>
<option value="https://i.imgur.com/diN6bqi.jpeg">Vanuatu</option>
<option value="https://i.imgur.com/mucUwRy.jpeg">África do Sul</option>
<option value="https://i.imgur.com/8eTY1dH.jpeg">Angola</option>
<option value="https://i.imgur.com/pqJ0QP0.jpeg">Argelia</option>
<option value="https://i.imgur.com/jrhB5JA.jpeg">Benim</option>
<option value="https://i.imgur.com/I0YkYNY.jpeg">Botswana</option>
<option value="https://i.imgur.com/7Wo78M7.jpeg">Burkina Faso</option>
<option value="https://i.imgur.com/HWalH1m.jpeg">Burundi</option>
<option value="https://i.imgur.com/L9vWjqN.jpeg">Cabo Verde</option>
<option value="https://i.imgur.com/nxQyjg7.jpeg">Camarões</option>
<option value="https://i.imgur.com/tlJDv8f.jpeg">Chade</option>
<option value="https://i.imgur.com/wA3qrtS.jpeg">Comores</option>
<option value="https://i.imgur.com/e3LRv1E.jpeg">Congo</option>
<option value="https://i.imgur.com/ZADV3LI.jpeg">Costa de Marfim</option>
<option value="https://i.imgur.com/N6yYpF6.jpeg">Djibuti</option>
<option value="https://i.imgur.com/cTzlWj3.jpeg">Egito</option>
<option value="https://i.imgur.com/JF7vhv7.jpeg">Eritreia</option>
<option value="https://i.imgur.com/1XGQFaq.jpeg">Essuatini (Suazilândia)</option>
<option value="https://i.imgur.com/eDMlG6e.jpeg">Etiópia</option>
<option value="https://i.imgur.com/rCTs8hC.jpeg">Gabão</option>
<option value="https://i.imgur.com/1ddsfBs.jpeg">Gâmbia</option>
<option value="https://i.imgur.com/3jaG0No.jpeg">Gana</option>
<option value="https://i.imgur.com/MGRK8jr.jpeg">Guiné Equatorial</option>
<option value="https://i.imgur.com/z6a2G4u.jpeg">Guiné</option>
<option value="https://i.imgur.com/5tYqAMB.jpeg">Guiné-Bissau</option>
<option value="https://i.imgur.com/W4tZDKs.jpeg">Lesoto</option>
<option value="https://i.imgur.com/GBIkNmu.jpeg">Libéria</option>
<option value="https://i.imgur.com/5OcYWVH.jpeg">Líbia</option>
<option value="https://i.imgur.com/VEYaTRv.jpeg">Madagascar</option>
<option value="https://i.imgur.com/9inGaH2.jpeg">Malaui</option>
<option value="https://i.imgur.com/OpqLL1P.jpeg">Mali</option>
<option value="https://i.imgur.com/wiqDtGC.jpeg">Marrocos</option>
<option value="https://i.imgur.com/J2inkTK.jpeg">Maurício</option>
<option value="https://i.imgur.com/BvIMDXR.jpeg">Mauritânia</option>
<option value="https://i.imgur.com/a3E3yHq.jpeg">Moçambique</option>
<option value="https://i.imgur.com/o0S8eUr.jpeg">Namíbia</option>
<option value="https://i.imgur.com/9H0noid.jpeg">Níger</option>
<option value="https://i.imgur.com/Dq9Ui8M.jpeg">Nigéria</option>
<option value="https://i.imgur.com/aOhmYWp.jpeg">Quênia</option>
<option value="https://i.imgur.com/cGLHFJL.jpeg">República Centro-Africana</option>
<option value="https://i.imgur.com/q7jVKpN.jpeg">Ruanda</option>
<option value="https://i.imgur.com/3deyMVH.jpeg">São Tomé e Príncipe</option>
<option value="https://i.imgur.com/2k0ShPS.jpeg">Senegal</option>
<option value="https://i.imgur.com/AV4GkbC.jpeg">Serra Leoa</option>
<option value="https://i.imgur.com/gMSc4B7.jpeg">Seychelles</option>
<option value="https://i.imgur.com/OPCxZHr.jpeg">Somália</option>
<option value="https://i.imgur.com/cAHwnVi.jpeg">Sudão do Sul</option>
<option value="https://i.imgur.com/PyH4mQx.jpeg">Sudão</option>
<option value="https://i.imgur.com/SagRyal.jpeg">Tanzânia</option>
<option value="https://i.imgur.com/k3QOjOe.jpeg">Togo</option>
<option value="https://i.imgur.com/sknEFkS.jpeg">Tunísia</option>
<option value="https://i.imgur.com/UVeEGP5.jpeg">Uganda</option>
<option value="https://i.imgur.com/D3qY2Xf.jpeg">Zâmbia</option>
<option value="https://i.imgur.com/oXwHiEO.jpeg">Zimbabwe</option>
            </select>
        </div>
    </div>
    <div>
        <label for="player1Name">Nome do Jogador 1: </label>
        <input type="text" id="player1Name" value="Jogador 1" onchange="updateNames()">
        <label for="player2Name">Nome do Jogador 2: </label>
        <input type="text" id="player2Name" value="Jogador 2" onchange="updateNames()">
    </div>
    <div class="scoreboard">
        <div class="player">
            <div class="player-name-container">
                <img id="player1FlagImg" class="player-flag" src="" alt="Bandeira Jogador 1" style="display: none;">
                <h2 id="name1" onclick="selectPlayer(1)">Jogador 1</h2>
                <p id="selected-player-1" class="selected-player-1" style="display: none;">►</p>
            </div>
            
            <!-- Container para foto e pontos do jogador 1 -->
            <div class="player-score-container">
                <div class="player-photo-container right">
                    <div class="player-photo player1-photo" id="player1PhotoContainer">
                        <div class="player-photo-placeholder" id="player1PhotoPlaceholder">Clique para adicionar foto</div>
                        <img id="player1Photo" style="display: none;">
                        <input type="file" id="player1PhotoInput" accept="image/*" onchange="handlePhotoUpload(1)">
                    </div>
                </div>
                <p id="score1">0</p>
            </div>
            
            <div class="buttons">
                <button class="add-1" onclick="addPoints(1, 1)">+1</button>
                <button class="add-2" onclick="addPoints(1, 2)">+2</button>
                <button class="add-3" onclick="addPoints(1, 3)">+3</button>
                <button class="add-4" onclick="addPoints(1, 4)">+4</button>
                <button class="add-5" onclick="addPoints(1, 5)">+5</button>
                <button class="add-6" onclick="addPoints(1, 6)">+6</button>
                <button class="add-7" onclick="addPoints(1, 7)">+7</button>
            </div>
            <div class="buttons">
                <button class="subtract" onclick="subtractPoints(1, 1)">-1</button>
                <button class="subtract" onclick="subtractPoints(1, 2)">-2</button>
                <button class="subtract" onclick="subtractPoints(1, 3)">-3</button>
                <button class="subtract" onclick="subtractPoints(1, 4)">-4</button>
                <button class="subtract" onclick="subtractPoints(1, 5)">-5</button>
                <button class="subtract" onclick="subtractPoints(1, 6)">-6</button>
                <button class="subtract" onclick="subtractPoints(1, 7)">-7</button>
            </div>
            <div class="foul-buttons">
                <button onclick="addFoul(4)">F4</button>
                <button onclick="addFoul(5)">F5</button>
                <button onclick="addFoul(6)">F6</button>
                <button onclick="addFoul(7)">F7</button>
            </div>
            <div class="foul-history">
                <div class="balls-history" id="history1"></div>
            </div>
            <div class="break-and-difference">
                <div class="break-sequence">
                    <div class="break">
                        <h2>BREAK</h2>
                        <div class="ball-container" id="break1"></div>
                    </div>
                    <div class="difference-remaining">
                        <h2>Diferença / Restante</h2>
                        <p><span id="differenceValue">0</span> | <span id="remainingValue">0</span></p>
                    </div>
                </div>
            </div>
            <div class="remaining-buttons" id="remainingButtons1">
                <!-- As bolinhas serão geradas dinamicamente pelo JavaScript -->
            </div>
            <div class="timer-container">
                <div class="timer">
                    <h2>Tempo da tacada</h2>
                    <p><span id="timer1">00:00:00</span></p>
                </div>
                <div class="average-time">
                    <h2>Tempo médio da tacada</h2>
                    <p><span id="averageTime1">0,0 s</span></p>
                </div>
                <div class="balls-count">
                    <h2>Bolas / Pontos</h2>
                    <p><span id="ballsCount1">0</span> | <span id="pointsCount1">0</span></p>
                </div>
            </div>
        </div>
        <div class="center-panel">
            <div class="difference">
                <h2>Diferença</h2>
                <p id="scoreDiff">0</p>
            </div>
            <div class="tacada">
                <h2>Tacada</h2>
                <p><span id="tacada1">0</span> | <span id="tacada2">0</span></p>
            </div>
            <div class="best-of">
                <h2>Melhor de</h2>
                <p id="bestOf">0</p>
                <div>
                    <button onclick="addBestOf()">+</button>
                    <button onclick="subtractBestOf()">-</button>
                </div>
                <button onclick="resetScores()" class="reset-button" style="margin-top: 10px; background-color: #ffc107; color: black;">ZERAR PONTOS</button>
            </div>
            <div class="wins">
                <h2>Partidas</h2>
                <p><span id="wins1">0</span> | <span id="wins2">0</span></p>
                <div>
                    <button onclick="addWin(1)">+</button>
                    <button onclick="subtractWin(1)">-</button>
                    <button onclick="addWin(2)">+</button>
                    <button onclick="subtractWin(2)">-</button>
                </div>
            </div>
            
            <!-- JANELA UNIFICADA DE CRONÔMETROS -->
            <div class="match-game-time">
                <div class="match-game-time-header">
                    <h2 class="match-game-time-title">CRONÔMETROS</h2>
                </div>
                <div class="match-game-time-display">
                    <div class="match-game-timer-section">
                        <div class="match-game-timer-header">
                            <h3 class="match-game-timer-title">PARTIDA</h3>
                        </div>
                        <div class="match-game-timer-content">
                            <p class="match-game-timer-value"><span id="matchTimer">00:00:00</span></p>
                            <div class="match-game-timer-buttons">
                                <button class="timer-btn start-stop" onclick="toggleMatchTimer()">INICIAR/PARAR</button>
                                <button class="timer-btn reset" onclick="resetMatchTimer()">ZERAR</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="match-game-timer-divider">
                        <div class="timer-divider-line"></div>
                    </div>
                    
                    <div class="match-game-timer-section">
                        <div class="match-game-timer-header">
                            <h3 class="match-game-timer-title">JOGO</h3>
                        </div>
                        <div class="match-game-timer-content">
                            <p class="match-game-timer-value"><span id="gameTimer">00:00:00</span></p>
                            <div class="match-game-timer-buttons">
                                <button class="timer-btn start-stop" onclick="toggleGameTimer()">INICIAR/PARAR</button>
                                <button class="timer-btn reset" onclick="resetGameTimer()">ZERAR</button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Botões de controle centralizados -->
                <div class="match-game-global-controls">
                    <button class="global-control-btn start-all" onclick="startAllTimers()">
                        <i class="fas fa-play"></i> INICIAR TODOS
                    </button>
                    <button class="global-control-btn stop-all" onclick="stopAllTimers()">
                        <i class="fas fa-pause"></i> PARAR TODOS
                    </button>
                    <button class="global-control-btn reset-all" onclick="resetAllTimers()">
                        <i class="fas fa-redo"></i> ZERAR TODOS
                    </button>
                </div>
            </div>
        </div>
        <div class="player">
            <div class="player-name-container">
                <p id="selected-player-2" class="selected-player-2" style="display: none;">◄</p>
                <h2 id="name2" onclick="selectPlayer(2)">Jogador 2</h2>
                <img id="player2FlagImg" class="player-flag" src="" alt="Bandeira Jogador 2" style="display: none;">
            </div>
            
            <!-- Container para foto e pontos do jogador 2 -->
            <div class="player-score-container">
                <p id="score2">0</p>
                <div class="player-photo-container left">
                    <div class="player-photo player2-photo" id="player2PhotoContainer">
                        <div class="player-photo-placeholder" id="player2PhotoPlaceholder">Clique para adicionar foto</div>
                        <img id="player2Photo" style="display: none;">
                        <input type="file" id="player2PhotoInput" accept="image/*" onchange="handlePhotoUpload(2)">
                    </div>
                </div>
            </div>
            
            <div class="buttons">
                <button class="add-1" onclick="addPoints(2, 1)">+1</button>
                <button class="add-2" onclick="addPoints(2, 2)">+2</button>
                <button class="add-3" onclick="addPoints(2, 3)">+3</button>
                <button class="add-4" onclick="addPoints(2, 4)">+4</button>
                <button class="add-5" onclick="addPoints(2, 5)">+5</button>
                <button class="add-6" onclick="addPoints(2, 6)">+6</button>
                <button class="add-7" onclick="addPoints(2, 7)">+7</button>
            </div>
            <div class="buttons">
                <button class="subtract" onclick="subtractPoints(2, 1)">-1</button>
                <button class="subtract" onclick="subtractPoints(2, 2)">-2</button>
                <button class="subtract" onclick="subtractPoints(2, 3)">-3</button>
                <button class="subtract" onclick="subtractPoints(2, 4)">-4</button>
                <button class="subtract" onclick="subtractPoints(2, 5)">-5</button>
                <button class="subtract" onclick="subtractPoints(2, 6)">-6</button>
                <button class="subtract" onclick="subtractPoints(2, 7)">-7</button>
            </div>
            <div class="foul-buttons">
                <button onclick="addFoul(4)">F4</button>
                <button onclick="addFoul(5)">F5</button>
                <button onclick="addFoul(6)">F6</button>
                <button onclick="addFoul(7)">F7</button>
            </div>
            <div class="foul-history">
                <div class="balls-history" id="history2"></div>
            </div>
            <div class="break-and-difference">
                <div class="break-sequence">
                    <div class="break">
                        <h2>BREAK</h2>
                        <div class="ball-container" id="break2"></div>
                    </div>
                    <div class="difference-remaining">
                        <h2>Diferença / Restante</h2>
                        <p><span id="differenceValue2">0</span> | <span id="remainingValue2">0</span></p>
                    </div>
                </div>
            </div>
            <div class="remaining-buttons" id="remainingButtons2">
                <!-- As bolinhas serão geradas dinamicamente pelo JavaScript -->
            </div>
            <div class="timer-container">
                <div class="timer">
                    <h2>Tempo da tacada</h2>
                    <p><span id="timer2">00:00:00</span></p>
                </div>
                <div class="average-time">
                    <h2>Tempo médio da tacada</h2>
                    <p><span id="averageTime2">0,0 s</span></p>
                </div>
                <div class="balls-count">
                    <h2>Bolas / Pontos</h2>
                    <p><span id="ballsCount2">0</span> | <span id="pointsCount2">0</span></p>
                </div>
            </div>
        </div>
    </div>
    
    <!-- ============================================= -->
    <!-- BARRA INFERIOR ATUALIZADA COM ELEMENTOS INDEPENDENTES -->
    <!-- ============================================= -->
    <div class="inferior-bar-wrapper">
        <div class="inferior-bar-container" id="inferiorBarContainer">
            <!-- Imagem da barra inferior será carregada aqui -->
            <div class="inferior-bar-image" id="inferiorBarImage"></div>
            
            <!-- Contêiner para os dados - agora com elementos posicionados independentemente -->
            <div class="inferior-data-container">
                <!-- Cada elemento tem sua própria posição absoluta -->
                <div class="inferior-arrow-left" onclick="selectPlayerFromInferior(1)"></div>
                <img id="inferiorFlag1" class="inferior-flag1" src="" alt="Bandeira Jogador 1" style="display: none;">
                <div class="inferior-name1" id="inferiorName1">JOGADOR 1</div>
                <div class="inferior-score1" id="inferiorScore1">0</div>
                <div class="inferior-wins1" id="inferiorWins1">0</div>
                
                <!-- Elementos do centro -->
                <div class="inferior-best-of" id="inferiorBestOf">0</div>
                
                <!-- Elementos do jogador 2 -->
                <div class="inferior-wins2" id="inferiorWins2">0</div>
                <div class="inferior-score2" id="inferiorScore2">0</div>
                <div class="inferior-name2" id="inferiorName2">JOGADOR 2</div>
                <img id="inferiorFlag2" class="inferior-flag2" src="" alt="Bandeira Jogador 2" style="display: none;">
                <div class="inferior-arrow-right" onclick="selectPlayerFromInferior(2)"></div>
            </div>
        </div>
    </div>
    
    <script>
        // ==============================================
        // VARIÁVEIS PRINCIPAIS - ATUALIZADAS PARA SINCRONIZAÇÃO
        // ==============================================
        let selectedPlayer = null;
        let tacada1 = 0;
        let tacada2 = 0;
        let remainingValue = 0;
        let break1 = { red: 0, yellow: 0, green: 0, brown: 0, blue: 0, pink: 0, black: 0 };
        let break2 = { red: 0, yellow: 0, green: 0, brown: 0, blue: 0, pink: 0, black: 0 };
        let timerInterval;
        let timer1 = 0;
        let timer2 = 0;
        let lastClickTime1 = null;
        let lastClickTime2 = null;
        let lastPlayerSwitchTime = null;
        let totalTime1 = 0;
        let totalTime2 = 0;
        let clickCount1 = 0;
        let clickCount2 = 0;
        let matchTimerInterval;
        let gameTimerInterval;
        let matchTimer = 0;
        let gameTimer = 0;
        let isMatchTimerRunning = false;
        let isGameTimerRunning = false;
        let sixRedMode = false;
        let englishRuleMode = false;
        let lastPlayerHadBalls = false;
        let totalBalls1 = 0;
        let totalBalls2 = 0;
        let totalPoints1 = 0;
        let totalPoints2 = 0;
        let playerSwitchCount1 = 0;
        let playerSwitchCount2 = 0;
        let lastShotTime1 = null;
        let lastShotTime2 = null;
        
        // NOVAS VARIÁVEIS PARA SINCRONIZAÇÃO DE TEMPO
        let matchTimerStartTime = 0;
        let gameTimerStartTime = 0;
        let matchTimerPausedTime = 0;
        let gameTimerPausedTime = 0;
        let lastSecondScreenUpdate = 0;
        
        // Variáveis para paleta de cores
        let selectedWindow = 'all';
        let customColor = '#ffffff';
        let eyeDropperActive = false;
        
        // Variáveis para controle de segunda tela
        let secondScreenWindow = null;
        let isSecondScreenActive = false;
        let secondScreenCheckInterval = null;
        let secondScreenUpdateInterval = null;
        let wakeLock = null;

        // Cores salvas para janelas
        let windowColors = {
            player: '#ffffff',
            difference: '#ffffff',
            tacada: '#ffffff',
            bestOf: '#ffffff',
            wins: '#ffffff',
            break: '#101F7A',
            differenceRemaining: '#ffffff',
            timer: '#ffffff',
            averageTime: '#ffffff',
            ballsCount: '#ffffff',
            matchTime: '#ffffff',
            imageSearch: '#ffffff',
            inferiorBar: '#ffffff'
        };

        // ==============================================
        // FUNÇÕES PARA SEGUNDA TELA (TELA DA ARENA) - ATUALIZADA COM SINCRONIZAÇÃO
        // ==============================================
        
        async function toggleSecondScreen() {
            if (isSecondScreenActive) {
                stopSecondScreen();
            } else {
                await startSecondScreen();
            }
        }
        
        async function startSecondScreen() {
            try {
                // Tentar obter permissão para manter a tela ativa
                if ('wakeLock' in navigator) {
                    try {
                        wakeLock = await navigator.wakeLock.request('screen');
                        console.log('Wake Lock ativado para segunda tela');
                    } catch (err) {
                        console.warn('Wake Lock não disponível:', err);
                    }
                }
                
                // Configurar características da janela para segunda tela
                const features = `
                    fullscreen=yes,
                    toolbar=no,
                    location=no,
                    directories=no,
                    status=no,
                    menubar=no,
                    scrollbars=no,
                    resizable=yes,
                    width=${screen.width},
                    height=${screen.height},
                    left=${screen.width},  // Coloca na segunda tela (direita)
                    top=0
                `;
                
                // Abrir janela em tela cheia
                secondScreenWindow = window.open('', 'SecondScreenSnooker', features);
                
                if (!secondScreenWindow) {
                    alert('Por favor, permita pop-ups para usar a segunda tela.');
                    return;
                }
                
                // Escrever conteúdo HTML para a segunda tela COM SINCRONIZAÇÃO DE CRONÔMETRO
                secondScreenWindow.document.write(`
                    <!DOCTYPE html>
                    <html>
                    <head>
                        <meta charset="UTF-8">
                        <meta name="viewport" content="width=device-width, initial-scale=1.0">
                        <title>SEGUNDA TELA - PLACAR SNOOKER</title>
                        <style>
                            * {
                                margin: 0;
                                padding: 0;
                                box-sizing: border-box;
                            }
                            
                            body {
                                font-family: 'Oswald', sans-serif;
                                background-image: url('https://i.imgur.com/HOcrGfP.jpeg');
                                background-size: cover;
                                background-position: center;
                                background-attachment: fixed;
                                color: white;
                                height: 100vh;
                                overflow: hidden;
                                display: flex;
                                justify-content: center;
                                align-items: center;
                            }
                            
                            .arena-container {
                                width: 100vw;
                                height: 100vh;
                                display: flex;
                                flex-direction: column;
                                padding: 40px;
                                gap: 30px;
                            }
                            
                            /* Primeira linha: Nomes, bandeiras e cursor */
                            .arena-first-row {
                                display: flex;
                                justify-content: space-between;
                                align-items: center;
                                width: 100%;
                            }
                            
                            .arena-player1-info, .arena-player2-info {
                                display: flex;
                                align-items: center;
                                gap: 30px;
                            }
                            
                            .arena-flag {
                                width: 120px;
                                height: 80px;
                                border-radius: 8px;
                                border: 3px solid white;
                                box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
                                transform: translateY(20px)
                            }
                            
                            .arena-name {
                                font-size: 85px;
                                font-weight: regular;
                                color: white;
                                text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.7);
                                text-transform: uppercase;
                                letter-spacing: 3px;
                                transform: translateY(20px)
                            }
                            
                            .arena-arrow-left, .arena-arrow-right {
                                font-size: 60px;
                                color: #ff6b6b;
                                animation: pulse 1.5s infinite;
                                text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.4);
                                position: relative;
                                transform: translateY(20px)
                                
                            }
                            
                            .arena-arrow-left::before {
                                content: '▶';
                            }
                            
                            .arena-arrow-right::before {
                                content: '◀';
                            }
                            
                            /* Segunda linha: Tempo do jogo (centralizado) */
                            .arena-game-time-row {
                                text-align: center;
                                
                            }
                            
                            .arena-game-time {
                                font-size: 50px;
                                color: #ff0000;
                                text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.7);
                                font-weight: regular;
                                letter-spacing: 3px;
                                transform: translateY(30px)
                            }
                            
                            /* Terceira linha: Foto Jogador 1 - Wins 1 - Melhor de - Wins 2 - Foto Jogador 2 (tudo na mesma linha) */
                            .arena-third-row {
                                display: flex;
                                justify-content: space-between;
                                align-items: center;
                                width: 100%;
                               
                            }
                            
                            .arena-player-section {
                                display: flex;
                                align-items: center;
                                gap: 30px;
                                flex: 1;
                            }
                            
                            .arena-player1-section {
                                justify-content: flex-start;
                            }
                            
                            .arena-player2-section {
                                justify-content: flex-end;
                            }
                            
                            .arena-photo-container {
                                width: 250px;
                                height: 318px;
                                position: relative;
                                border-radius: 0px;
                                border: 0px solid white;
                                overflow: hidden;
                                box-shadow: 0 0px 0px rgba(0, 0, 0, 0.6);
                                transform: translateY(-50px)
                            }
                            
                            .arena-photo-container img {
                                width: 100%;
                                height: 100%;
                                object-fit: cover;
                            }
                            
                            .arena-wins-container {
                                display: flex;
                                flex-direction: column;
                                align-items: center;
                            }
                            
                            .arena-wins-label {
                                font-size: 30px;
                                color: #cccccc;
                                text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7);
                                margin-bottom: 5px;
                            }
                            
                            .arena-wins {
                                font-size: 200px;
                                font-weight: bold;
                                color: yellow;
                                text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.7);
                                transform: translateY(-20px)
                            }
                            
                            .arena-best-of {
                                font-size: 90px;
                                color: #ffff00;
                                text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.7);
                                text-align: center;
                                min-width: 300px;
                                transform: translateY(37px)
                            }
                            
                            /* Quarta linha: pontos (score) */
                            .arena-score-row {
                                display: flex;
                                justify-content: space-between;
                                align-items: center;
                                width: 100%;
                                gap: 40px;
                                position: relative;
                                transform: translateY(-120px)
                            }
                            
                            .arena-score {
                                font-size: 330px;
                                position: relative;
                                font-weight: bold;
                                color: #00ff00;
                                text-shadow: 4px 4px 8px rgba(0, 0, 0, 0.7);
                                width: 45%;
                                text-align: center;
                            }
                            
                            /* Quinta linha: tacadas */
                            .arena-tacada-row {
                                display: flex;
                                justify-content: space-between;
                                align-items: center;
                                width: 100%;
                                gap: 150px;
                                position: relative;
                                transform: translateY(-235px)
                            }
                            
                            .arena-tacada {
                                font-size: 45px;
                                font-weight: regular;
                                color: red;
                                text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.7);
                                width: 45%;
                                text-align: center;
                            }
                            
                            /* Sexta linha: histórico de bolas */
                            .arena-balls-history-row {
                                display: flex;
                                justify-content: space-between;
                                width: 100%;
                                height: 150px;
                                gap: 40px;
                                position: relative;
                                transform: translateY(-258px)
                            }
                            
                            .arena-balls-history {
                                width: 48%;
                                background-color: rgba(0, 0, 0, 0.6);
                                border-radius: 12px;
                                padding: 20px;
                                display: flex;
                                flex-wrap: wrap;
                                gap: 3px;
                                overflow-y: auto;
                                backdrop-filter: blur(5px);
                                border: 3px solid rgba(255, 255, 255, 0.3);
                            }
                            
                            .arena-ball {
                                width: 40px;
                                height: 40px;
                                border-radius: 50%;
                                display: flex;
                                align-items: center;
                                justify-content: center;
                                font-size: 25px;
                                font-weight: regular;
                                color: white;
                                box-shadow: inset -4px -4px 8px rgba(0, 0, 0, 0.3),
                                          inset 3px 3px 5px rgba(255, 255, 255, 0.2),
                                          0 6px 12px rgba(0, 0, 0, 0.4);
                                position: relative;
                            }
                            
                            .arena-ball::before {
                                content: '';
                                position: absolute;
                                top: 15%;
                                left: 25%;
                                width: 17px;
                                height: 17px;
                                border-radius: 50%;
                                background: rgba(255, 255, 255, 0.4);
                                filter: blur(2px);
                            }
                            
                            .arena-ball.red { background: radial-gradient(circle at 30% 30%, #ff6b6b, #dc3545 70%); }
                            .arena-ball.yellow { background: radial-gradient(circle at 30% 30%, #fff176, #ffc107 70%); color: #333; }
                            .arena-ball.green { background: radial-gradient(circle at 30% 30%, #81c784, #28a745 70%); }
                            .arena-ball.brown { background: radial-gradient(circle at 30% 30%, #a1887f, #8b4513 70%); }
                            .arena-ball.blue { background: radial-gradient(circle at 30% 30%, #64b5f6, #007bff 70%); }
                            .arena-ball.pink { background: radial-gradient(circle at 30% 30%, #f48fb1, #e83e8c 70%); }
                            .arena-ball.black { background: radial-gradient(circle at 30% 30%, #424242, #000000 70%); }
                            .arena-ball.foul { background: radial-gradient(circle at 30% 30%, #ff8a80, #dc3545 70%); }
                            
                            .arena-ball.divider {
                                background: none;
                                box-shadow: none;
                                color: white;
                                font-size: 40px;
                                width: 15px;
                            }
                            
                            .no-balls {
                                color: #aaa;
                                font-style: italic;
                                font-size: 24px;
                                width: 100%;
                                text-align: center;
                                padding: 20px;
                            }
                            
                            @keyframes pulse {
                                0% { opacity: 0.3; }
                                50% { opacity: 1; }
                                100% { opacity: 0.3; }
                            }
                            
                            /* Ajustes responsivos para a tela da arena */
                            @media (max-width: 1600px) {
                                .arena-name { font-size: 50px; }
                                .arena-game-time { font-size: 40px; }
                                .arena-score { font-size: 150px; }
                                .arena-wins { font-size: 60px; }
                                .arena-best-of { font-size: 50px; min-width: 250px; }
                                .arena-tacada { font-size: 50px; }
                                .arena-photo-container {
                                    width: 180px;
                                    height: 240px;
                                }
                                .arena-flag {
                                    width: 100px;
                                    height: 70px;
                                }
                                .arena-ball {
                                    width: 50px;
                                    height: 50px;
                                    font-size: 25px;
                                }
                                .arena-wins-label { font-size: 25px; }
                            }
                            
                            @media (max-height: 900px) {
                                .arena-name { font-size: 40px; }
                                .arena-game-time { font-size: 35px; }
                                .arena-score { font-size: 120px; }
                                .arena-wins { font-size: 50px; }
                                .arena-best-of { font-size: 40px; min-width: 200px; }
                                .arena-tacada { font-size: 40px; }
                                .arena-photo-container {
                                    width: 150px;
                                    height: 200px;
                                }
                                .arena-flag {
                                    width: 80px;
                                    height: 60px;
                                }
                                .arena-ball {
                                    width: 45px;
                                    height: 45px;
                                    font-size: 22px;
                                }
                                .arena-wins-label { font-size: 20px; }
                            }
                        </style>
                    </head>
                    <body>
                        <div class="arena-container" id="arenaContainer">
                            <!-- Primeira linha: Nomes, bandeiras e cursor -->
                            <div class="arena-first-row">
                                <div class="arena-player1-info">
                                    <div class="arena-arrow-left" id="arenaArrowLeft" style="display: none;"></div>
                                    <img class="arena-flag" id="arenaFlag1" src="" alt="Bandeira" style="display: none;">
                                    <div class="arena-name" id="arenaName1">JOGADOR 1</div>
                                </div>
                                <div class="arena-player2-info">
                                    <div class="arena-name" id="arenaName2">JOGADOR 2</div>
                                    <img class="arena-flag" id="arenaFlag2" src="" alt="Bandeira" style="display: none;">
                                    <div class="arena-arrow-right" id="arenaArrowRight" style="display: none;"></div>
                                </div>
                            </div>
                            
                            <!-- Segunda linha: Tempo do jogo (centralizado) -->
                            <div class="arena-game-time-row">
                                <div class="arena-game-time" id="arenaGameTime">00:00:00</div>
                            </div>
                            
                            <!-- Terceira linha: Foto Jogador 1 - Wins 1 - Melhor de - Wins 2 - Foto Jogador 2 (tudo na mesma linha) -->
                            <div class="arena-third-row">
                                <div class="arena-player-section arena-player1-section">
                                    <div class="arena-photo-container" id="arenaPhoto1Container">
                                        <img id="arenaPhoto1" src="" alt="Foto Jogador 1">
                                    </div>
                                    <div class="arena-wins-container">
                                        <div class="arena-wins-label">VITÓRIAS</div>
                                        <div class="arena-wins" id="arenaWins1">0</div>
                                    </div>
                                </div>
                                
                                <div class="arena-best-of" id="arenaBestOf">0</div>
                                
                                <div class="arena-player-section arena-player2-section">
                                    <div class="arena-wins-container">
                                        <div class="arena-wins-label">VITÓRIAS</div>
                                        <div class="arena-wins" id="arenaWins2">0</div>
                                    </div>
                                    <div class="arena-photo-container" id="arenaPhoto2Container">
                                        <img id="arenaPhoto2" src="" alt="Foto Jogador 2">
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Quarta linha: pontos (score) -->
                            <div class="arena-score-row">
                                <div class="arena-score" id="arenaScore1">0</div>
                                <div class="arena-score" id="arenaScore2">0</div>
                            </div>
                            
                            <!-- Quinta linha: tacadas -->
                            <div class="arena-tacada-row">
                                <div class="arena-tacada" id="arenaTacada1">0</div>
                                <div class="arena-tacada" id="arenaTacada2">0</div>
                            </div>
                            
                            <!-- Sexta linha: histórico de bolas -->
                            <div class="arena-balls-history-row">
                                <div class="arena-balls-history" id="arenaBallsHistory1">
                                    <div class="no-balls">Nenhuma bola encaçapada</div>
                                </div>
                                <div class="arena-balls-history" id="arenaBallsHistory2">
                                    <div class="no-balls">Nenhuma bola encaçapada</div>
                                </div>
                            </div>
                        </div>
                        
                        <script>
                            // VARIÁVEIS PARA SINCRONIZAÇÃO DE TEMPO
                            let lastGameTimerUpdate = 0;
                            let gameTimerValue = 0;
                            let gameTimerRunning = false;
                            let gameTimerStartTime = 0;
                            let gameTimerPausedTime = 0;
                            
                            // Função para formatar o tempo
                            function formatTime(seconds) {
                                const hours = Math.floor(seconds / 3600);
                                const minutes = Math.floor((seconds % 3600) / 60);
                                const secs = Math.floor(seconds % 60);
                                return \`\${String(hours).padStart(2, '0')}:\${String(minutes).padStart(2, '0')}:\${String(secs).padStart(2, '0')}\`;
                            }
                            
                            // Atualizar o cronômetro do jogo em tempo real
                            function updateGameTimerDisplay() {
                                let currentTime = gameTimerValue;
                                
                                // Se o cronômetro estiver rodando, calcular o tempo decorrido
                                if (gameTimerRunning && gameTimerStartTime > 0) {
                                    const now = performance.now() / 1000; // segundos
                                    const elapsed = now - gameTimerStartTime;
                                    currentTime = gameTimerPausedTime + elapsed;
                                }
                                
                                document.getElementById('arenaGameTime').textContent = formatTime(currentTime);
                                
                                // Atualizar a cada 100ms para maior precisão
                                requestAnimationFrame(updateGameTimerDisplay);
                            }
                            
                            // Iniciar a atualização do display do cronômetro
                            updateGameTimerDisplay();
                            
                            // Função para receber atualizações da janela principal
                            function updateArena(data) {
                                // Primeira linha: Nomes, bandeiras e cursor
                                document.getElementById('arenaName1').textContent = data.player1.name;
                                document.getElementById('arenaName2').textContent = data.player2.name;
                                
                                // Bandeiras
                                if (data.player1.flag) {
                                    document.getElementById('arenaFlag1').src = data.player1.flag;
                                    document.getElementById('arenaFlag1').style.display = 'block';
                                } else {
                                    document.getElementById('arenaFlag1').style.display = 'none';
                                }
                                
                                if (data.player2.flag) {
                                    document.getElementById('arenaFlag2').src = data.player2.flag;
                                    document.getElementById('arenaFlag2').style.display = 'block';
                                } else {
                                    document.getElementById('arenaFlag2').style.display = 'none';
                                }
                                
                                // Setas (cursor de seleção)
                                document.getElementById('arenaArrowLeft').style.display = 'none';
                                document.getElementById('arenaArrowRight').style.display = 'none';
                                if (data.selectedPlayer === 1) {
                                    document.getElementById('arenaArrowLeft').style.display = 'block';
                                } else if (data.selectedPlayer === 2) {
                                    document.getElementById('arenaArrowRight').style.display = 'block';
                                }
                                
                                // Segunda linha: Tempo do jogo (gameTimer)
                                // Receber o valor exato do cronômetro da janela principal
                                gameTimerValue = data.gameTimer;
                                gameTimerRunning = data.gameTimerRunning;
                                
                                // Atualizar o tempo de início se o cronômetro estiver rodando
                                if (gameTimerRunning && gameTimerStartTime === 0) {
                                    gameTimerStartTime = performance.now() / 1000;
                                    gameTimerPausedTime = gameTimerValue;
                                } else if (!gameTimerRunning) {
                                    gameTimerStartTime = 0;
                                    gameTimerPausedTime = gameTimerValue;
                                }
                                
                                // Terceira linha: Fotos, partidas e melhor de
                                // Fotos
                                if (data.player1.photo) {
                                    document.getElementById('arenaPhoto1').src = data.player1.photo;
                                    document.getElementById('arenaPhoto1Container').style.display = 'block';
                                } else {
                                    document.getElementById('arenaPhoto1Container').style.display = 'none';
                                }
                                
                                if (data.player2.photo) {
                                    document.getElementById('arenaPhoto2').src = data.player2.photo;
                                    document.getElementById('arenaPhoto2Container').style.display = 'block';
                                } else {
                                    document.getElementById('arenaPhoto2Container').style.display = 'none';
                                }
                                
                                // Partidas - AGORA NA MESMA LINHA
                                document.getElementById('arenaWins1').textContent = data.player1.wins;
                                document.getElementById('arenaWins2').textContent = data.player2.wins;
                                
                                // Melhor de - APENAS O VALOR NUMÉRICO, CENTRALIZADO
                                document.getElementById('arenaBestOf').textContent = data.bestOf;
                                
                                // Quarta linha: Pontos
                                document.getElementById('arenaScore1').textContent = data.player1.score;
                                document.getElementById('arenaScore2').textContent = data.player2.score;
                                
                                // Quinta linha: Tacadas
                                document.getElementById('arenaTacada1').textContent = data.player1.tacada;
                                document.getElementById('arenaTacada2').textContent = data.player2.tacada;
                                
                                // Sexta linha: Histórico de bolas
                                updateBallsHistory('arenaBallsHistory1', data.player1.ballsHistory);
                                updateBallsHistory('arenaBallsHistory2', data.player2.ballsHistory);
                            }
                            
                            function updateBallsHistory(containerId, ballsHTML) {
                                const container = document.getElementById(containerId);
                                const balls = extractBallsFromHTML(ballsHTML);
                                
                                if (balls.length === 0) {
                                    container.innerHTML = '<div class="no-balls">Nenhuma bola encaçapada</div>';
                                    return;
                                }
                                
                                let ballsHTMLContent = '';
                                balls.forEach(ball => {
                                    let ballClass = 'arena-ball';
                                    
                                    if (ball.isDivider) {
                                        ballClass += ' divider';
                                        ballsHTMLContent += \`<div class="\${ballClass}">|\</div>\`;
                                        return;
                                    }
                                    
                                    if (ball.isFoul) {
                                        ballClass += ' foul';
                                    } else {
                                        switch(ball.points) {
                                            case '1': ballClass += ' red'; break;
                                            case '2': ballClass += ' yellow'; break;
                                            case '3': ballClass += ' green'; break;
                                            case '4': ballClass += ' brown'; break;
                                            case '5': ballClass += ' blue'; break;
                                            case '6': ballClass += ' pink'; break;
                                            case '7': ballClass += ' black'; break;
                                            default: ballClass += ' foul';
                                        }
                                    }
                                    
                                    ballsHTMLContent += \`<div class="\${ballClass}">\${ball.points}</div>\`;
                                });
                                
                                container.innerHTML = ballsHTMLContent;
                            }
                            
                            function extractBallsFromHTML(html) {
                                const parser = new DOMParser();
                                const doc = parser.parseFromString(html, 'text/html');
                                const balls = doc.querySelectorAll('.ball-3d');
                                
                                return Array.from(balls).map(ball => ({
                                    points: ball.textContent,
                                    isFoul: ball.classList.contains('foul'),
                                    isDivider: ball.classList.contains('divider')
                                }));
                            }
                            
                            // Receber mensagens da janela principal
                            window.addEventListener('message', function(event) {
                                if (event.data.type === 'updateArena') {
                                    updateArena(event.data.data);
                                }
                            });
                            
                            // Solicitar primeira atualização
                            window.opener.postMessage({ type: 'requestArenaUpdate' }, '*');
                            
                            // Manter a janela focada
                            window.focus();
                        <\/script>
                    </body>
                    </html>
                `);
                
                secondScreenWindow.document.close();
                
                // Configurar intervalo para verificar se a janela ainda está aberta
                secondScreenCheckInterval = setInterval(() => {
                    if (secondScreenWindow.closed) {
                        stopSecondScreen();
                    }
                }, 1000);
                
                // Configurar intervalo de atualização mais frequente para a segunda tela
                secondScreenUpdateInterval = setInterval(() => {
                    if (isSecondScreenActive && secondScreenWindow && !secondScreenWindow.closed) {
                        updateSecondScreen();
                    }
                }, 100); // Atualizar a cada 100ms para maior precisão
                
                // Configurar listener para mensagens da segunda tela
                window.addEventListener('message', handleSecondScreenMessage);
                
                isSecondScreenActive = true;
                updateSecondScreenButton();
                
                // Forçar primeira atualização
                setTimeout(() => updateSecondScreen(), 100);
                
            } catch (error) {
                console.error('Erro ao iniciar segunda tela:', error);
                alert('Erro ao iniciar projeção na segunda tela: ' + error.message);
            }
        }
        
        function stopSecondScreen() {
            if (secondScreenCheckInterval) {
                clearInterval(secondScreenCheckInterval);
                secondScreenCheckInterval = null;
            }
            
            if (secondScreenUpdateInterval) {
                clearInterval(secondScreenUpdateInterval);
                secondScreenUpdateInterval = null;
            }
            
            if (wakeLock) {
                wakeLock.release();
                wakeLock = null;
            }
            
            if (secondScreenWindow && !secondScreenWindow.closed) {
                secondScreenWindow.close();
            }
            
            window.removeEventListener('message', handleSecondScreenMessage);
            
            isSecondScreenActive = false;
            secondScreenWindow = null;
            updateSecondScreenButton();
        }
        
        function handleSecondScreenMessage(event) {
            if (event.data.type === 'requestArenaUpdate') {
                updateSecondScreen();
            }
        }
        
        function updateSecondScreen() {
            if (!isSecondScreenActive || !secondScreenWindow || secondScreenWindow.closed) {
                stopSecondScreen();
                return;
            }
            
            try {
                // Coletar dados atuais
                const player1Name = document.getElementById('name1').textContent;
                const player2Name = document.getElementById('name2').textContent;
                const player1Score = document.getElementById('score1').textContent;
                const player2Score = document.getElementById('score2').textContent;
                const player1Wins = document.getElementById('wins1').textContent;
                const player2Wins = document.getElementById('wins2').textContent;
                const player1Tacada = tacada1;
                const player2Tacada = tacada2;
                const bestOf = document.getElementById('bestOf').textContent;
                
                // Obter bandeiras
                const player1Flag = document.getElementById('player1Flag').value;
                const player2Flag = document.getElementById('player2Flag').value;
                
                // Obter fotos
                const player1Photo = document.getElementById('player1Photo').src;
                const player2Photo = document.getElementById('player2Photo').src;
                const player1HasPhoto = document.getElementById('player1Photo').style.display !== 'none';
                const player2HasPhoto = document.getElementById('player2Photo').style.display !== 'none';
                
                // Obter histórico de bolas
                const history1 = document.getElementById('history1').innerHTML;
                const history2 = document.getElementById('history2').innerHTML;
                
                // Preparar dados para envio
                const arenaData = {
                    player1: {
                        name: player1Name,
                        score: player1Score,
                        wins: player1Wins,
                        tacada: player1Tacada,
                        flag: player1Flag,
                        photo: player1HasPhoto ? player1Photo : '',
                        ballsHistory: history1
                    },
                    player2: {
                        name: player2Name,
                        score: player2Score,
                        wins: player2Wins,
                        tacada: player2Tacada,
                        flag: player2Flag,
                        photo: player2HasPhoto ? player2Photo : '',
                        ballsHistory: history2
                    },
                    selectedPlayer: selectedPlayer,
                    bestOf: bestOf,
                    gameTimer: gameTimer,
                    gameTimerRunning: isGameTimerRunning // Enviar o estado do cronômetro
                };
                
                // Enviar dados para a segunda tela
                secondScreenWindow.postMessage({
                    type: 'updateArena',
                    data: arenaData
                }, '*');
                
            } catch (error) {
                console.error('Erro ao atualizar segunda tela:', error);
                // Se houver erro, parar a segunda tela
                stopSecondScreen();
            }
        }
        
        function updateSecondScreenButton() {
            const secondScreenBtn = document.getElementById('secondScreenBtn');
            if (secondScreenBtn) {
                if (isSecondScreenActive) {
                    secondScreenBtn.classList.add('active');
                    secondScreenBtn.innerHTML = '<i class="fas fa-stop"></i> PARAR TELA';
                } else {
                    secondScreenBtn.classList.remove('active');
                    secondScreenBtn.innerHTML = '<i class="fas fa-desktop"></i> TELA DA ARENA';
                }
            }
        }

        // ==============================================
        // FUNÇÕES PARA A BARRA INFERIOR ATUALIZADA
        // ==============================================
        
        function updateInferiorBar() {
            // Atualizar nomes (em maiúsculas)
            const name1 = document.getElementById('name1').textContent.toUpperCase();
            const name2 = document.getElementById('name2').textContent.toUpperCase();
            document.getElementById('inferiorName1').textContent = name1;
            document.getElementById('inferiorName2').textContent = name2;
            
            // Atualizar pontuações (os mesmos valores do placar principal)
            const score1 = document.getElementById('score1').textContent;
            const score2 = document.getElementById('score2').textContent;
            document.getElementById('inferiorScore1').textContent = score1;
            document.getElementById('inferiorScore2').textContent = score2;
            
            // Atualizar partidas
            document.getElementById('inferiorWins1').textContent = document.getElementById('wins1').textContent;
            document.getElementById('inferiorWins2').textContent = document.getElementById('wins2').textContent;
            
            // Atualizar melhor de
            document.getElementById('inferiorBestOf').textContent = document.getElementById('bestOf').textContent;
            
            // Atualizar bandeiras
            const flag1 = document.getElementById('player1Flag').value;
            const flag2 = document.getElementById('player2Flag').value;
            const flag1Img = document.getElementById('inferiorFlag1');
            const flag2Img = document.getElementById('inferiorFlag2');
            
            if (flag1) {
                flag1Img.src = flag1;
                flag1Img.style.display = 'inline';
            } else {
                flag1Img.style.display = 'none';
            }
            
            if (flag2) {
                flag2Img.src = flag2;
                flag2Img.style.display = 'inline';
            } else {
                flag2Img.style.display = 'none';
            }
            
            // Atualizar setas (indicadores de jogador ativo)
            updateInferiorArrows();
            
            // Salvar dados
            saveData();
        }
        
        function updateInferiorArrows() {
            const arrowLeft = document.querySelector('.inferior-arrow-left');
            const arrowRight = document.querySelector('.inferior-arrow-right');
            
            // Remover todas as classes selected primeiro
            arrowLeft.classList.remove('selected');
            arrowRight.classList.remove('selected');
            
            if (selectedPlayer === 1) {
                arrowLeft.classList.add('selected');
            } else if (selectedPlayer === 2) {
                arrowRight.classList.add('selected');
            }
        }
        
        function selectPlayerFromInferior(player) {
            selectPlayer(player);
        }
        
        function syncWithInferiorBar() {
            updateInferiorBar();
        }

        // ==============================================
        // FUNÇÕES PARA A JANELA DE BUSCA DE IMAGEM NO TOPO
        // ==============================================
        
        function handleImageSearch(event) {
            const input = event.target;
            const file = input.files[0];
            const container = document.getElementById('imageSearchTopContainer');
            const previewContainer = document.getElementById('imagePreviewTopContainer');
            const preview = document.getElementById('imagePreviewTop');
            const searchBox = document.getElementById('imageSearchTopBox');
            const inferiorBarImage = document.getElementById('inferiorBarImage');
            
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    // Limpar preview anterior
                    preview.innerHTML = '';
                    
                    // Criar nova imagem
                    const img = new Image();
                    img.onload = function() {
                        // Ajustar o tamanho da imagem para caber na janela do topo
                        const maxWidth = 300; // Largura máxima da janela do topo
                        const maxHeight = 50; // Altura máxima da janela do topo
                        
                        let width = img.width;
                        let height = img.height;
                        
                        // Calcular proporções para caber na altura fixa de 50px
                        const aspectRatio = width / height;
                        
                        // Ajustar para caber na altura de 50px
                        height = maxHeight;
                        width = height * aspectRatio;
                        
                        // Se a largura for maior que 300px, ajustar novamente
                        if (width > maxWidth) {
                            width = maxWidth;
                            height = width / aspectRatio;
                        }
                        
                        // Aplicar tamanhos para o preview do topo
                        img.style.width = width + 'px';
                        img.style.height = height + 'px';
                        
                        // Adicionar imagem ao preview do topo
                        preview.appendChild(img);
                        
                        // Aplicar a mesma imagem à barra inferior
                        inferiorBarImage.style.backgroundImage = `url('${e.target.result}')`;
                        
                        // Salvar a imagem no localStorage
                        localStorage.setItem('barraInferiorImage', e.target.result);
                        
                        // Mostrar container de preview e esconder caixa de busca
                        previewContainer.style.display = 'flex';
                        searchBox.style.display = 'none';
                    };
                    img.src = e.target.result;
                    img.alt = "Imagem selecionada";
                };
                reader.readAsDataURL(file);
            }
        }
        
        function removeImage() {
            const container = document.getElementById('imageSearchTopContainer');
            const previewContainer = document.getElementById('imagePreviewTopContainer');
            const preview = document.getElementById('imagePreviewTop');
            const searchBox = document.getElementById('imageSearchTopBox');
            const inferiorBarImage = document.getElementById('inferiorBarImage');
            
            // Limpar preview
            preview.innerHTML = '';
            
            // Remover imagem da barra inferior
            inferiorBarImage.style.backgroundImage = '';
            
            // Mostrar caixa de busca e esconder preview
            previewContainer.style.display = 'none';
            searchBox.style.display = 'flex';
            
            // Limpar localStorage
            localStorage.removeItem('barraInferiorImage');
            
            // Resetar input de arquivo
            document.getElementById('imageSearchTopInput').value = '';
        }

        // ==============================================
        // FUNÇÕES PRINCIPAIS DO PLACAR (MANTIDAS)
        // ==============================================
        
        function startTimer(player) {
            if (timerInterval) clearInterval(timerInterval);
            timerInterval = setInterval(() => {
                if (player === 1) {
                    timer1++;
                    document.getElementById('timer1').textContent = formatTime(timer1);
                } else if (player === 2) {
                    timer2++;
                    document.getElementById('timer2').textContent = formatTime(timer2);
                }
            }, 1000);
        }

        function resetTimer(player) {
            if (player === 1) {
                timer1 = 0;
                document.getElementById('timer1').textContent = formatTime(timer1);
            } else if (player === 2) {
                timer2 = 0;
                document.getElementById('timer2').textContent = formatTime(timer2);
            }
        }

        function calculateAverageTime(player) {
            if (player === 1) {
                const totalEvents = clickCount1 + playerSwitchCount1;
                const average = totalEvents > 0 ? totalTime1 / totalEvents : 0;
                document.getElementById('averageTime1').textContent = formatAverageTime(average);
            } else if (player === 2) {
                const totalEvents = clickCount2 + playerSwitchCount2;
                const average = totalEvents > 0 ? totalTime2 / totalEvents : 0;
                document.getElementById('averageTime2').textContent = formatAverageTime(average);
            }
        }

        function selectPlayer(player) {
            const now = Date.now();
            
            if (selectedPlayer === 1 && lastShotTime1) {
                const timeSinceLastShot = (now - lastShotTime1) / 1000;
                totalTime1 += timeSinceLastShot;
                clickCount1++;
            } else if (selectedPlayer === 2 && lastShotTime2) {
                const timeSinceLastShot = (now - lastShotTime2) / 1000;
                totalTime2 += timeSinceLastShot;
                clickCount2++;
            }
            
            if (lastPlayerSwitchTime && selectedPlayer && selectedPlayer !== player) {
                const switchTime = (now - lastPlayerSwitchTime) / 1000;
                if (selectedPlayer === 1) {
                    totalTime1 += switchTime;
                    playerSwitchCount1++;
                } else if (selectedPlayer === 2) {
                    totalTime2 += switchTime;
                    playerSwitchCount2++;
                }
            }

            if (selectedPlayer !== player) {
                const previousPlayer = selectedPlayer;
                if (previousPlayer) {
                    const historyElement = document.getElementById(`history${previousPlayer}`);
                    const hasBalls = historyElement.children.length > 0;
                    
                    const lastChild = historyElement.lastChild;
                    const lastIsDivider = lastChild && lastChild.classList.contains('divider');
                    
                    if (hasBalls && !lastIsDivider) {
                        addDividerToHistory(previousPlayer);
                        lastPlayerHadBalls = true;
                    } else {
                        lastPlayerHadBalls = false;
                    }
                }
                
                if (selectedPlayer === 1) {
                    tacada1 = 0;
                    break1 = { red: 0, yellow: 0, green: 0, brown: 0, blue: 0, pink: 0, black: 0 };
                    updateBreak(1);
                    resetTimer(1);
                } else if (selectedPlayer === 2) {
                    tacada2 = 0;
                    break2 = { red: 0, yellow: 0, green: 0, brown: 0, blue: 0, pink: 0, black: 0 };
                    updateBreak(2);
                    resetTimer(2);
                }
                updateTacada();
                startTimer(player);
            }
            
            selectedPlayer = player;
            lastPlayerSwitchTime = now;
            
            // ATUALIZADO: Cursor de seleção agora funciona corretamente
            document.getElementById('selected-player-1').style.display = player === 1 ? 'block' : 'none';
            document.getElementById('selected-player-2').style.display = player === 2 ? 'block' : 'none';
            
            if (player === 1) {
                lastShotTime1 = now;
            } else if (player === 2) {
                lastShotTime2 = now;
            }
            
            calculateAverageTime(1);
            calculateAverageTime(2);
            
            // Atualizar barra inferior (inclui setas)
            syncWithInferiorBar();
            
            // Atualizar segunda tela
            updateSecondScreen();
        }

        function addDividerToHistory(player) {
            const historyElement = document.getElementById(`history${player}`);
            const divider = document.createElement('div');
            divider.classList.add('ball-3d', 'divider');
            divider.textContent = '|';
            historyElement.appendChild(divider);
        }

        function addPoints(player, points) {
            if (selectedPlayer !== player) return;
            
            const now = Date.now();
            if (player === 1 && lastShotTime1) {
                const timeSinceLastShot = (now - lastShotTime1) / 1000;
                totalTime1 += timeSinceLastShot;
                clickCount1++;
            } else if (player === 2 && lastShotTime2) {
                const timeSinceLastShot = (now - lastShotTime2) / 1000;
                totalTime2 += timeSinceLastShot;
                clickCount2++;
            }
            
            const scoreElement = document.getElementById(`score${player}`);
            scoreElement.textContent = parseInt(scoreElement.textContent) + points;
            if (player === 1) {
                tacada1 += points;
                updateBreakData(1, points);
                lastShotTime1 = now;
                
                totalBalls1++;
                totalPoints1 += points;
                updateBallsCount();
            } else if (player === 2) {
                tacada2 += points;
                updateBreakData(2, points);
                lastShotTime2 = now;
                
                totalBalls2++;
                totalPoints2 += points;
                updateBallsCount();
            }
            updateTacada();
            updateDifference();
            saveData();
            addBallToHistory(player, points);
            updateBreak(player);
            
            calculateAverageTime(1);
            calculateAverageTime(2);
            
            if (sixRedMode || englishRuleMode) {
                calculateRemainingPoints();
            }
            
            // Atualizar barra inferior
            syncWithInferiorBar();
            
            // Atualizar segunda tela
            updateSecondScreen();
        }

        function updateBallsCount() {
            document.getElementById('ballsCount1').textContent = totalBalls1;
            document.getElementById('pointsCount1').textContent = totalPoints1;
            document.getElementById('ballsCount2').textContent = totalBalls2;
            document.getElementById('pointsCount2').textContent = totalPoints2;
        }

        function calculateRemainingPoints() {
            if (!sixRedMode && !englishRuleMode) return;
            
            const history1 = document.getElementById('history1').querySelectorAll('.ball-3d.red');
            const history2 = document.getElementById('history2').querySelectorAll('.ball-3d.red');
            const totalRedBalls = history1.length + history2.length;
            
            let lastColorBallValue = 0;
            let foundColorAfterLastRed = false;
            
            const balls1 = document.getElementById('history1').querySelectorAll('.ball-3d');
            for (let i = 0; i < balls1.length; i++) {
                const ball = balls1[i];
                if (ball.classList.contains('red')) {
                    foundColorAfterLastRed = false;
                } else if (ball.textContent.match(/^[2-7]$/)) {
                    lastColorBallValue = parseInt(ball.textContent);
                    foundColorAfterLastRed = true;
                }
            }
            
            const balls2 = document.getElementById('history2').querySelectorAll('.ball-3d');
            for (let i = 0; i < balls2.length; i++) {
                const ball = balls2[i];
                if (ball.classList.contains('red')) {
                    foundColorAfterLastRed = false;
                } else if (ball.textContent.match(/^[2-7]$/)) {
                    lastColorBallValue = parseInt(ball.textContent);
                    foundColorAfterLastRed = true;
                }
            }
            
            const hasColorAfterLastRed = foundColorAfterLastRed && 
                ((sixRedMode && totalRedBalls === 6) || (englishRuleMode && totalRedBalls === 15));
            
            if (sixRedMode) {
                if (totalRedBalls === 0) {
                    remainingValue = 75;
                } else if (totalRedBalls === 1) {
                    remainingValue = 67;
                } else if (totalRedBalls === 2) {
                    remainingValue = 59;
                } else if (totalRedBalls === 3) {
                    remainingValue = 51;
                } else if (totalRedBalls === 4) {
                    remainingValue = 43;
                } else if (totalRedBalls === 5) {
                    remainingValue = 35;
                } else if (totalRedBalls === 6) {
                    if (hasColorAfterLastRed) {
                        switch(lastColorBallValue) {
                            case 2:
                                remainingValue = 25;
                                break;
                            case 3:
                                remainingValue = 22;
                                break;
                            case 4:
                                remainingValue = 18;
                                break;
                            case 5:
                                remainingValue = 13;
                                break;
                            case 6:
                                remainingValue = 7;
                                break;
                            case 7:
                                remainingValue = 0;
                                break;
                            default:
                                remainingValue = 27;
                        }
                    } else {
                        remainingValue = 27;
                    }
                } else if (totalRedBalls >= 6) {
                    remainingValue = 0;
                }
            } else if (englishRuleMode) {
                if (totalRedBalls === 0) {
                    remainingValue = 147;
                } else if (totalRedBalls < 15) {
                    remainingValue = 147 - (totalRedBalls * 8);
                } else if (totalRedBalls === 15) {
                    if (hasColorAfterLastRed) {
                        switch(lastColorBallValue) {
                            case 2:
                                remainingValue = 25;
                                break;
                            case 3:
                                remainingValue = 22;
                                break;
                            case 4:
                                remainingValue = 18;
                                break;
                            case 5:
                                remainingValue = 13;
                                break;
                            case 6:
                                remainingValue = 7;
                                break;
                            case 7:
                                remainingValue = 0;
                                break;
                            default:
                                remainingValue = 27;
                        }
                    } else {
                        remainingValue = 27;
                    }
                } else if (totalRedBalls > 15) {
                    remainingValue = 0;
                }
            }
            
            remainingValue = Math.max(0, remainingValue);
            
            document.getElementById('remainingValue').textContent = remainingValue;
            document.getElementById('remainingValue2').textContent = remainingValue;
            saveData();
            
            // Atualizar barra inferior
            syncWithInferiorBar();
            
            // Atualizar segunda tela
            updateSecondScreen();
        }

        function updateBreakData(player, points) {
            const breakData = player === 1 ? break1 : break2;
            switch (points) {
                case 1: breakData.red++; break;
                case 2: breakData.yellow++; break;
                case 3: breakData.green++; break;
                case 4: breakData.brown++; break;
                case 5: breakData.blue++; break;
                case 6: breakData.pink++; break;
                case 7: breakData.black++; break;
            }
        }

        function subtractPoints(player, points) {
            if (selectedPlayer !== player) return;
            const scoreElement = document.getElementById(`score${player}`);
            let newScore = parseInt(scoreElement.textContent) - points;
            scoreElement.textContent = newScore < 0 ? 0 : newScore;
            if (player === 1) {
                tacada1 -= points;
                totalBalls1--;
                totalPoints1 -= points;
                if (totalBalls1 < 0) totalBalls1 = 0;
                if (totalPoints1 < 0) totalPoints1 = 0;
                updateBallsCount();
            } else if (player === 2) {
                tacada2 -= points;
                totalBalls2--;
                totalPoints2 -= points;
                if (totalBalls2 < 0) totalBalls2 = 0;
                if (totalPoints2 < 0) totalPoints2 = 0;
                updateBallsCount();
            }
            updateTacada();
            updateDifference();
            saveData();
            
            // Atualizar barra inferior
            syncWithInferiorBar();
            
            // Atualizar segunda tela
            updateSecondScreen();
        }

        function addFoul(points) {
            if (selectedPlayer === null) return;
            const opponent = selectedPlayer === 1 ? 2 : 1;
            const scoreElement = document.getElementById(`score${opponent}`);
            scoreElement.textContent = parseInt(scoreElement.textContent) + points;

            const historyElement = document.getElementById(`history${selectedPlayer}`);
            const hasBalls = historyElement.children.length > 0;
            
            const lastChild = historyElement.lastChild;
            const lastIsDivider = lastChild && lastChild.classList.contains('divider');
            
            if (hasBalls && !lastIsDivider) {
                addDividerToHistory(selectedPlayer);
            }
            
            addBallToHistory(selectedPlayer, `F${points}`);

            if (selectedPlayer === 1) {
                tacada1 = 0;
                break1 = { red: 0, yellow: 0, green: 0, brown: 0, blue: 0, pink: 0, black: 0 };
                updateBreak(1);
            } else if (selectedPlayer === 2) {
                tacada2 = 0;
                break2 = { red: 0, yellow: 0, green: 0, brown: 0, blue: 0, pink: 0, black: 0 };
                updateBreak(2);
            }
            updateTacada();
            updateDifference();
            saveData();
            
            // Atualizar barra inferior
            syncWithInferiorBar();
            
            // Atualizar segunda tela
            updateSecondScreen();
        }

        function updateTacada() {
            const tacada1Element = document.getElementById('tacada1');
            const tacada2Element = document.getElementById('tacada2');
            
            tacada1Element.textContent = tacada1;
            tacada2Element.textContent = tacada2;
            
            // Aplicar ou remover a classe zero-tacada
            if (tacada1 === 0) {
                tacada1Element.classList.add('zero-tacada');
            } else {
                tacada1Element.classList.remove('zero-tacada');
            }
            
            if (tacada2 === 0) {
                tacada2Element.classList.add('zero-tacada');
            } else {
                tacada2Element.classList.remove('zero-tacada');
            }
        }

        function addBallToHistory(player, points) {
            const historyElement = document.getElementById(`history${player}`);
            const ball = document.createElement('div');
            ball.classList.add('ball-3d');
            
            if (typeof points === 'string' && points.startsWith('F')) {
                ball.textContent = points;
                ball.classList.add('foul');
            } else {
                ball.textContent = points;
                const buttonClass = getButtonClass(points);
                ball.classList.add(buttonClass);
            }

            historyElement.appendChild(ball);
        }

        function getButtonClass(points) {
            const buttonClasses = {
                1: 'red',
                2: 'yellow',
                3: 'green',
                4: 'brown',
                5: 'blue',
                6: 'pink',
                7: 'black',
            };
            return buttonClasses[points] || '';
        }

        function resetScores() {
            const score1 = parseInt(document.getElementById('score1').textContent);
            const score2 = parseInt(document.getElementById('score2').textContent);

            if (score1 > score2) {
                addWin(1);
            } else if (score2 > score1) {
                addWin(2);
            }

            // Zerar os pontos do placar principal
            document.getElementById('score1').textContent = 0;
            document.getElementById('score2').textContent = 0;
            
            // Zerar os pontos na barra inferior DIRETAMENTE
            document.getElementById('inferiorScore1').textContent = 0;
            document.getElementById('inferiorScore2').textContent = 0;
            
            updateDifference();
            
            // ATUALIZADO: Inicializar a projeção com os valores corretos
            if (sixRedMode) {
                remainingValue = 75;
            } else if (englishRuleMode) {
                remainingValue = 147;
            } else {
                remainingValue = 0;
            }
            
            document.getElementById('remainingValue').textContent = remainingValue;
            document.getElementById('remainingValue2').textContent = remainingValue;

            tacada1 = 0;
            tacada2 = 0;
            updateTacada();

            break1 = { red: 0, yellow: 0, green: 0, brown: 0, blue: 0, pink: 0, black: 0 };
            break2 = { red: 0, yellow: 0, green: 0, brown: 0, blue: 0, pink: 0, black: 0 };
            updateBreak(1);
            updateBreak(2);

            // ATUALIZADO: Corrigir a lógica de seleção de jogador
            document.getElementById('selected-player-1').style.display = 'none';
            document.getElementById('selected-player-2').style.display = 'none';
            selectedPlayer = null;

            document.getElementById('history1').innerHTML = '';
            document.getElementById('history2').innerHTML = '';

            clearInterval(timerInterval);
            resetTimer(1);
            resetTimer(2);
            totalTime1 = 0;
            totalTime2 = 0;
            clickCount1 = 0;
            clickCount2 = 0;
            playerSwitchCount1 = 0;
            playerSwitchCount2 = 0;
            document.getElementById('averageTime1').textContent = '0,0 s';
            document.getElementById('averageTime2').textContent = '0,0 s';

            // CORREÇÃO: REMOVER A LINHA QUE RESETA O GAME TIMER
            // resetGameTimer(); // REMOVIDO - O cronômetro do jogo não deve ser zerado aqui

            // Forçar a atualização da barra inferior para garantir que todos os dados estejam sincronizados
            syncWithInferiorBar();
            
            // Atualizar segunda tela
            updateSecondScreen();
            
            saveData();
        }

        function resetAll() {
            totalBalls1 = 0;
            totalBalls2 = 0;
            totalPoints1 = 0;
            totalPoints2 = 0;
            updateBallsCount();
            
            resetScores();
            
            document.getElementById('wins1').textContent = '0';
            document.getElementById('wins2').textContent = '0';
            document.getElementById('bestOf').textContent = '0';
            
            saveData();
            
            // Atualizar barra inferior
            syncWithInferiorBar();
            
            // Atualizar segunda tela
            updateSecondScreen();
        }

        function updateDifference() {
            const score1 = parseInt(document.getElementById('score1').textContent);
            const score2 = parseInt(document.getElementById('score2').textContent);
            document.getElementById('scoreDiff').textContent = Math.abs(score1 - score2);
            document.getElementById('differenceValue').textContent = Math.abs(score1 - score2);
            document.getElementById('differenceValue2').textContent = Math.abs(score1 - score2);
        }

        function addWin(player) {
            const winElement = document.getElementById(`wins${player}`);
            winElement.textContent = parseInt(winElement.textContent) + 1;
            updateWins();
            saveData();
            
            // Atualizar barra inferior
            syncWithInferiorBar();
            
            // Atualizar segunda tela
            updateSecondScreen();
        }

        function subtractWin(player) {
            const winElement = document.getElementById(`wins${player}`);
            let newWins = parseInt(winElement.textContent) - 1;
            winElement.textContent = newWins < 0 ? 0 : newWins;
            updateWins();
            saveData();
            
            // Atualizar barra inferior
            syncWithInferiorBar();
            
            // Atualizar segunda tela
            updateSecondScreen();
        }

        function updateWins() {
            document.getElementById('wins1').textContent = document.getElementById('wins1').textContent;
            document.getElementById('wins2').textContent = document.getElementById('wins2').textContent;
        }

        function addBestOf() {
            const bestOfElement = document.getElementById('bestOf');
            let newBestOf = parseInt(bestOfElement.textContent) + 1;
            if (newBestOf <= 35) {
                bestOfElement.textContent = newBestOf;
                saveData();
            }
            
            // Atualizar barra inferior
            syncWithInferiorBar();
            
            // Atualizar segunda tela
            updateSecondScreen();
        }

        function subtractBestOf() {
            const bestOfElement = document.getElementById('bestOf');
            let newBestOf = parseInt(bestOfElement.textContent) - 1;
            if (newBestOf < 0) {
                newBestOf = 0;
                totalBalls1 = 0;
                totalBalls2 = 0;
                totalPoints1 = 0;
                totalPoints2 = 0;
                updateBallsCount();
            }
            bestOfElement.textContent = newBestOf;
            saveData();
            
            // Atualizar barra inferior
            syncWithInferiorBar();
            
            // Atualizar segunda tela
            updateSecondScreen();
        }

        function updateNames() {
            const name1 = document.getElementById('player1Name').value.trim();
            const name2 = document.getElementById('player2Name').value.trim();
            document.getElementById('name1').textContent = name1 || 'Jogador 1';
            document.getElementById('name2').textContent = name2 || 'Jogador 2';
            saveData();
            
            // Atualizar barra inferior
            syncWithInferiorBar();
            
            // Atualizar segunda tela
            updateSecondScreen();
        }

        function updateFlags() {
            const flag1 = document.getElementById('player1Flag').value;
            const flag2 = document.getElementById('player2Flag').value;
            
            const flag1Img = document.getElementById('player1FlagImg');
            const flag2Img = document.getElementById('player2FlagImg');
            
            if (flag1) {
                flag1Img.src = flag1;
                flag1Img.style.display = 'inline';
            } else {
                flag1Img.style.display = 'none';
            }
            
            if (flag2) {
                flag2Img.src = flag2;
                flag2Img.style.display = 'inline';
            } else {
                flag2Img.style.display = 'none';
            }
            
            saveData();
            
            // Atualizar barra inferior
            syncWithInferiorBar();
            
            // Atualizar segunda tela
            updateSecondScreen();
        }

        function handlePhotoUpload(player) {
            const input = document.getElementById(`player${player}PhotoInput`);
            const file = input.files[0];
            
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const photoElement = document.getElementById(`player${player}Photo`);
                    const placeholderElement = document.getElementById(`player${player}PhotoPlaceholder`);
                    
                    photoElement.src = e.target.result;
                    photoElement.style.display = 'block';
                    placeholderElement.style.display = 'none';
                    
                    localStorage.setItem(`player${player}Photo`, e.target.result);
                };
                reader.readAsDataURL(file);
            }
        }

        // ==============================================
        // FUNÇÕES DE TIMER DA PARTIDA E JOGO - ATUALIZADAS PARA SINCRONIZAÇÃO
        // ==============================================
        
        function toggleMatchTimer() {
            if (isMatchTimerRunning) {
                clearInterval(matchTimerInterval);
                matchTimerPausedTime = matchTimer;
                isMatchTimerRunning = false;
            } else {
                matchTimerStartTime = Date.now() / 1000;
                matchTimerInterval = setInterval(() => {
                    const now = Date.now() / 1000;
                    const elapsed = now - matchTimerStartTime;
                    matchTimer = Math.floor(matchTimerPausedTime + elapsed);
                    document.getElementById('matchTimer').textContent = formatMatchTime(matchTimer);
                    saveData();
                    
                    // Atualizar segunda tela se estiver ativa
                    if (isSecondScreenActive) {
                        updateSecondScreen();
                    }
                }, 100); // Atualizar a cada 100ms para maior precisão
                isMatchTimerRunning = true;
            }
        }
        
        function toggleGameTimer() {
            if (isGameTimerRunning) {
                clearInterval(gameTimerInterval);
                gameTimerPausedTime = gameTimer;
                isGameTimerRunning = false;
            } else {
                gameTimerStartTime = Date.now() / 1000;
                gameTimerInterval = setInterval(() => {
                    const now = Date.now() / 1000;
                    const elapsed = now - gameTimerStartTime;
                    gameTimer = Math.floor(gameTimerPausedTime + elapsed);
                    document.getElementById('gameTimer').textContent = formatGameTime(gameTimer);
                    saveData();
                    
                    // Atualizar segunda tela se estiver ativa (mais frequente)
                    if (isSecondScreenActive) {
                        updateSecondScreen();
                    }
                }, 100); // Atualizar a cada 100ms para maior precisão
                isGameTimerRunning = true;
            }
        }

        function resetMatchTimer() {
            clearInterval(matchTimerInterval);
            matchTimer = 0;
            matchTimerPausedTime = 0;
            document.getElementById('matchTimer').textContent = formatMatchTime(matchTimer);
            isMatchTimerRunning = false;
            saveData();
            
            // Atualizar segunda tela
            updateSecondScreen();
        }

        function resetGameTimer() {
            clearInterval(gameTimerInterval);
            gameTimer = 0;
            gameTimerPausedTime = 0;
            document.getElementById('gameTimer').textContent = formatGameTime(gameTimer);
            isGameTimerRunning = false;
            saveData();
            
            // Atualizar segunda tela
            updateSecondScreen();
        }

        // NOVAS FUNÇÕES PARA CONTROLE GLOBAL DOS CRONÔMETROS
        function startAllTimers() {
            if (!isMatchTimerRunning) toggleMatchTimer();
            if (!isGameTimerRunning) toggleGameTimer();
        }

        function stopAllTimers() {
            if (isMatchTimerRunning) toggleMatchTimer();
            if (isGameTimerRunning) toggleGameTimer();
        }

        function resetAllTimers() {
            resetMatchTimer();
            resetGameTimer();
        }

        // ==============================================
        // FUNÇÕES AUXILIARES E FORMATADORES
        // ==============================================
        
        function formatMatchTime(totalSeconds) {
            const hours = Math.floor(totalSeconds / 3600);
            const minutes = Math.floor((totalSeconds % 3600) / 60);
            const seconds = totalSeconds % 60;
            return `${String(hours).padStart(2, '0')}:${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
        }

        function formatGameTime(totalSeconds) {
            const hours = Math.floor(totalSeconds / 3600);
            const minutes = Math.floor((totalSeconds % 3600) / 60);
            const seconds = totalSeconds % 60;
            return `${String(hours).padStart(2, '0')}:${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
        }

        function formatTime(seconds) {
            const hours = Math.floor(seconds / 3600);
            const minutes = Math.floor((seconds % 3600) / 60);
            const secs = seconds % 60;
            return `${String(hours).padStart(2, '0')}:${String(minutes).padStart(2, '0')}:${String(secs).padStart(2, '0')}`;
        }

        function formatAverageTime(seconds) {
            return `${seconds.toFixed(1)} s`;
        }

        // ==============================================
        // FUNÇÕES DE ESTILO DE FONTE
        // ==============================================
        
        function applyFontStyle(style) {
            const elements = document.querySelectorAll('body, h1, h2, h3, p, span, button, input, select');
            const inferiorWrapper = document.querySelector('.inferior-bar-wrapper');
            
            // Lista de elementos que NÃO devem ser afetados (barra inferior)
            const excludedSelectors = [
                '.inferior-bar-wrapper',
                '.inferior-bar-container',
                '.inferior-data-container',
                '.inferior-name1',
                '.inferior-score1',
                '.inferior-wins1',
                '.inferior-best-of',
                '.inferior-wins2',
                '.inferior-score2',
                '.inferior-name2',
                '.inferior-arrow-left',
                '.inferior-arrow-right',
                '.inferior-flag1',
                '.inferior-flag2',
                '.inferior-bar-image'
            ];
            
            elements.forEach(element => {
                // Verificar se o elemento NÃO pertence à barra inferior
                let shouldExclude = false;
                excludedSelectors.forEach(selector => {
                    if (element.matches?.(selector) || element.closest?.(selector)) {
                        shouldExclude = true;
                    }
                });
                
                if (!shouldExclude) {
                    switch(style) {
                        case 'normal':
                            element.style.fontStyle = 'normal';
                            element.style.fontWeight = 'normal';
                            break;
                        case 'bold':
                            element.style.fontWeight = 'bold';
                            element.style.fontStyle = 'normal';
                            break;
                        case 'italic':
                            element.style.fontStyle = 'italic';
                            element.style.fontWeight = 'normal';
                            break;
                    }
                }
            });
            
            // Garantir que os elementos da barra inferior mantenham o peso de fonte regular
            document.querySelectorAll('.inferior-bar-wrapper *').forEach(element => {
                element.style.fontWeight = 'regular';
                element.style.fontStyle = 'normal';
            });
            
            localStorage.setItem('fontStyle', style);
        }

        // ==============================================
        // FUNÇÕES DA PALETA DE CORES
        // ==============================================
        
        function selectWindow(windowType) {
            selectedWindow = windowType;
            
            // Atualizar botões ativos
            document.querySelectorAll('.window-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
        }

        function applyColor(color) {
            customColor = color;
            applyColorToWindows();
        }

        function applyColorToWindows() {
            const windows = getWindowsByType(selectedWindow);
            
            windows.forEach(window => {
                if (window.classList.contains('break')) {
                    window.style.backgroundColor = customColor;
                    windowColors.break = customColor;
                } else if (window.classList.contains('difference')) {
                    window.style.backgroundColor = customColor;
                    windowColors.difference = customColor;
                } else if (window.classList.contains('tacada')) {
                    window.style.backgroundColor = customColor;
                    windowColors.tacada = customColor;
                } else if (window.classList.contains('best-of')) {
                    window.style.backgroundColor = customColor;
                    windowColors.bestOf = customColor;
                } else if (window.classList.contains('wins')) {
                    window.style.backgroundColor = customColor;
                    windowColors.wins = customColor;
                } else if (window.classList.contains('difference-remaining')) {
                    window.style.backgroundColor = customColor;
                    windowColors.differenceRemaining = customColor;
                } else if (window.classList.contains('timer')) {
                    window.style.backgroundColor = customColor;
                    windowColors.timer = customColor;
                } else if (window.classList.contains('average-time')) {
                    window.style.backgroundColor = customColor;
                    windowColors.averageTime = customColor;
                } else if (window.classList.contains('balls-count')) {
                    window.style.backgroundColor = customColor;
                    windowColors.ballsCount = customColor;
                } else if (window.classList.contains('match-game-time')) {
                    window.style.backgroundColor = customColor;
                    windowColors.matchTime = customColor;
                } else if (window.classList.contains('player')) {
                    window.style.backgroundColor = customColor;
                    windowColors.player = customColor;
                } else if (window.classList.contains('foul-history')) {
                    window.style.backgroundColor = customColor;
                } else if (window.classList.contains('image-search-top-container')) {
                    window.style.backgroundColor = customColor;
                    windowColors.imageSearch = customColor;
                } else if (window.id === 'inferiorBarContainer') {
                    window.style.backgroundColor = customColor;
                    windowColors.inferiorBar = customColor;
                }
            });
            
            saveData();
        }

        function getWindowsByType(type) {
            switch(type) {
                case 'all':
                    return document.querySelectorAll('.player, .difference, .tacada, .best-of, .wins, .break, .difference-remaining, .timer, .average-time, .balls-count, .match-game-time, .foul-history, .image-search-top-container, #inferiorBarContainer');
                case 'player':
                    return document.querySelectorAll('.player');
                case 'difference':
                    return document.querySelectorAll('.difference');
                case 'tacada':
                    return document.querySelectorAll('.tacada');
                case 'bestOf':
                    return document.querySelectorAll('.best-of');
                case 'wins':
                    return document.querySelectorAll('.wins');
                case 'break':
                    return document.querySelectorAll('.break');
                case 'differenceRemaining':
                    return document.querySelectorAll('.difference-remaining');
                case 'timer':
                    return document.querySelectorAll('.timer, .average-time, .balls-count');
                case 'matchTime':
                    return document.querySelectorAll('.match-game-time');
                case 'imageSearch':
                    return document.querySelectorAll('.image-search-top-container');
                case 'inferiorBar':
                    return document.querySelectorAll('#inferiorBarContainer');
                default:
                    return [];
            }
        }

        function applySavedColors() {
            // Aplicar cores salvas para cada tipo de janela
            document.querySelectorAll('.player').forEach(player => {
                player.style.backgroundColor = windowColors.player;
            });
            
            document.querySelectorAll('.difference').forEach(diff => {
                diff.style.backgroundColor = windowColors.difference;
            });
            
            document.querySelectorAll('.tacada').forEach(tacada => {
                tacada.style.backgroundColor = windowColors.tacada;
            });
            
            document.querySelectorAll('.best-of').forEach(bestOf => {
                bestOf.style.backgroundColor = windowColors.bestOf;
            });
            
            document.querySelectorAll('.wins').forEach(wins => {
                wins.style.backgroundColor = windowColors.wins;
            });
            
            document.querySelectorAll('.break').forEach(breakEl => {
                breakEl.style.backgroundColor = windowColors.break;
            });
            
            document.querySelectorAll('.difference-remaining').forEach(diffRem => {
                diffRem.style.backgroundColor = windowColors.differenceRemaining;
            });
            
            document.querySelectorAll('.timer').forEach(timer => {
                timer.style.backgroundColor = windowColors.timer;
            });
            
            document.querySelectorAll('.average-time').forEach(avgTime => {
                avgTime.style.backgroundColor = windowColors.averageTime;
            });
            
            document.querySelectorAll('.balls-count').forEach(ballsCount => {
                ballsCount.style.backgroundColor = windowColors.ballsCount;
            });
            
            document.querySelectorAll('.match-game-time').forEach(matchTime => {
                matchTime.style.backgroundColor = windowColors.matchTime;
            });
            
            document.querySelectorAll('.image-search-top-container').forEach(imageSearch => {
                imageSearch.style.backgroundColor = windowColors.imageSearch || '#ffffff';
            });
            
            // Aplicar cor para barra inferior
            document.querySelectorAll('#inferiorBarContainer').forEach(inferiorBar => {
                inferiorBar.style.backgroundColor = windowColors.inferiorBar || '#ffffff';
            });
        }

        // ==============================================
        // FUNÇÕES DE FONTE E CARREGAMENTO
        // ==============================================
        
        function applyFont() {
            const font = document.getElementById('fontSelector').value;
            // Aplicar fonte apenas ao painel principal, não à barra inferior
            document.body.style.fontFamily = font;
            saveFont(font);
        }

        function saveFont(font) {
            localStorage.setItem('selectedFont', font);
        }

        function loadFont() {
            const savedFont = localStorage.getItem('selectedFont');
            if (savedFont) {
                document.body.style.fontFamily = savedFont;
                document.getElementById('fontSelector').value = savedFont;
            }
        }

        function loadFontStyle() {
            const savedStyle = localStorage.getItem('fontStyle');
            if (savedStyle) {
                applyFontStyle(savedStyle);
            }
        }

        // ==============================================
        // FUNÇÕES ADICIONAIS DO PLACAR
        // ==============================================
        
        function updateBreak(player) {
            const breakElement = document.getElementById(`break${player}`);
            const breakData = player === 1 ? break1 : break2;
            
            breakElement.innerHTML = `
                <div class="ball red ${breakData.red >= 1 ? 'show' : ''}">${breakData.red}</div>
                <div class="ball black ${breakData.black >= 1 ? 'show' : ''}">${breakData.black}</div>
                <div class="ball yellow ${breakData.yellow >= 1 ? 'show' : ''}">${breakData.yellow}</div>
                <div class="ball green ${breakData.green >= 1 ? 'show' : ''}">${breakData.green}</div>
                <div class="ball brown ${breakData.brown >= 1 ? 'show' : ''}">${breakData.brown}</div>
                <div class="ball blue ${breakData.blue >= 1 ? 'show' : ''}">${breakData.blue}</div>
                <div class="ball pink ${breakData.pink >= 1 ? 'show' : ''}">${breakData.pink}</div>
            `;
        }

        function setRemaining(value) {
            const remainingValues = {
                1: 35, 2: 43, 3: 51, 4: 59, 5: 67, 6: 75, 7: 83, 8: 91, 9: 99, 10: 107,
                11: 115, 12: 123, 13: 131, 14: 139, 15: 147,
                16: 27, 17: 25, 18: 22, 19: 18, 20: 13, 21: 7
            };
            remainingValue = remainingValues[value] || 0;
            document.getElementById('remainingValue').textContent = remainingValue;
            document.getElementById('remainingValue2').textContent = remainingValue;
            saveData();
            
            // Atualizar barra inferior
            syncWithInferiorBar();
            
            // Atualizar segunda tela
            updateSecondScreen();
        }

        function updateRemainingButtons() {
            const remainingButtons1 = document.getElementById('remainingButtons1');
            const remainingButtons2 = document.getElementById('remainingButtons2');
            
            remainingButtons1.innerHTML = '';
            remainingButtons2.innerHTML = '';
            
            const row1 = document.createElement('div');
            row1.className = 'ball-row';
            const row2 = document.createElement('div');
            row2.className = 'ball-row';
            
            if (sixRedMode || englishRuleMode) {
                const maxRedBalls = sixRedMode ? 6 : 15;
                for (let i = 1; i <= maxRedBalls; i++) {
                    const button = document.createElement('button');
                    button.className = 'red ball-3d';
                    button.textContent = i;
                    button.onclick = function() { setRemaining(i); };
                    row1.appendChild(button);
                }
                
                const coloredBalls = [
                    { class: 'yellow', value: 16 },
                    { class: 'green', value: 17 },
                    { class: 'brown', value: 18 },
                    { class: 'blue', value: 19 },
                    { class: 'pink', value: 20 },
                    { class: 'black', value: 21 }
                ];
                
                coloredBalls.forEach(ball => {
                    const button = document.createElement('button');
                    button.className = `${ball.class} ball-3d`;
                    button.onclick = function() { setRemaining(ball.value); };
                    row2.appendChild(button);
                });
                
                row1.classList.add('spacer');
                
                remainingButtons1.appendChild(row1);
                remainingButtons1.appendChild(row2);
                
                const row1Player2 = row1.cloneNode(true);
                const row2Player2 = row2.cloneNode(true);
                remainingButtons2.appendChild(row1Player2);
                remainingButtons2.appendChild(row2Player2);
            } else {
                for (let i = 1; i <= 15; i++) {
                    const button = document.createElement('button');
                    button.className = 'red ball-3d';
                    button.textContent = i;
                    button.onclick = function() { setRemaining(i); };
                    row1.appendChild(button);
                }
                
                const coloredBalls = [
                    { class: 'yellow', value: 16 },
                    { class: 'green', value: 17 },
                    { class: 'brown', value: 18 },
                    { class: 'blue', value: 19 },
                    { class: 'pink', value: 20 },
                    { class: 'black', value: 21 }
                ];
                
                coloredBalls.forEach(ball => {
                    const button = document.createElement('button');
                    button.className = `${ball.class} ball-3d`;
                    button.onclick = function() { setRemaining(ball.value); };
                    row1.appendChild(button);
                });
                
                remainingButtons1.appendChild(row1);
                
                const row1Player2 = row1.cloneNode(true);
                remainingButtons2.appendChild(row1Player2);
            }
        }

        function updateGameMode() {
            sixRedMode = document.getElementById('sixRedMode').checked;
            englishRuleMode = document.getElementById('englishRuleMode').checked;
            
            if (sixRedMode && englishRuleMode) {
                if (this.id === 'sixRedMode') {
                    englishRuleMode = false;
                    document.getElementById('englishRuleMode').checked = false;
                } else {
                    sixRedMode = false;
                    document.getElementById('sixRedMode').checked = false;
                }
            }
            
            saveData();
            updateRemainingButtons();
            
            if (sixRedMode || englishRuleMode) {
                calculateRemainingPoints();
            }
        }

        // ==============================================
        // FUNÇÕES DE SALVAR E CARREGAR DADOS
        // ==============================================
        
        function saveData() {
            localStorage.setItem('player1Name', document.getElementById('player1Name').value);
            localStorage.setItem('player2Name', document.getElementById('player2Name').value);
            localStorage.setItem('score1', document.getElementById('score1').textContent);
            localStorage.setItem('score2', document.getElementById('score2').textContent);
            localStorage.setItem('wins1', document.getElementById('wins1').textContent);
            localStorage.setItem('wins2', document.getElementById('wins2').textContent);
            localStorage.setItem('bestOf', document.getElementById('bestOf').textContent);
            localStorage.setItem('tacada1', tacada1);
            localStorage.setItem('tacada2', tacada2);
            localStorage.setItem('timer1', timer1);
            localStorage.setItem('timer2', timer2);
            localStorage.setItem('totalTime1', totalTime1);
            localStorage.setItem('totalTime2', totalTime2);
            localStorage.setItem('clickCount1', clickCount1);
            localStorage.setItem('clickCount2', clickCount2);
            localStorage.setItem('playerSwitchCount1', playerSwitchCount1);
            localStorage.setItem('playerSwitchCount2', playerSwitchCount2);
            localStorage.setItem('matchTimer', matchTimer);
            localStorage.setItem('gameTimer', gameTimer);
            localStorage.setItem('isMatchTimerRunning', isMatchTimerRunning);
            localStorage.setItem('isGameTimerRunning', isGameTimerRunning);
            localStorage.setItem('remainingValue', remainingValue);
            localStorage.setItem('player1Flag', document.getElementById('player1Flag').value);
            localStorage.setItem('player2Flag', document.getElementById('player2Flag').value);
            localStorage.setItem('sixRedMode', sixRedMode);
            localStorage.setItem('englishRuleMode', englishRuleMode);
            localStorage.setItem('totalBalls1', totalBalls1);
            localStorage.setItem('totalBalls2', totalBalls2);
            localStorage.setItem('totalPoints1', totalPoints1);
            localStorage.setItem('totalPoints2', totalPoints2);
            localStorage.setItem('windowColors', JSON.stringify(windowColors));
            localStorage.setItem('secondScreenActive', isSecondScreenActive);
            
            // Salvar dados da barra inferior
            localStorage.setItem('inferiorName1', document.getElementById('inferiorName1').textContent);
            localStorage.setItem('inferiorScore1', document.getElementById('inferiorScore1').textContent);
            localStorage.setItem('inferiorWins1', document.getElementById('inferiorWins1').textContent);
            localStorage.setItem('inferiorBestOf', document.getElementById('inferiorBestOf').textContent);
            localStorage.setItem('inferiorWins2', document.getElementById('inferiorWins2').textContent);
            localStorage.setItem('inferiorName2', document.getElementById('inferiorName2').textContent);
            localStorage.setItem('inferiorScore2', document.getElementById('inferiorScore2').textContent);
        }

        function loadData() {
            if (localStorage.getItem('player1Name')) {
                document.getElementById('player1Name').value = localStorage.getItem('player1Name');
                document.getElementById('player2Name').value = localStorage.getItem('player2Name');
                document.getElementById('score1').textContent = localStorage.getItem('score1');
                document.getElementById('score2').textContent = localStorage.getItem('score2');
                document.getElementById('wins1').textContent = localStorage.getItem('wins1');
                document.getElementById('wins2').textContent = localStorage.getItem('wins2');
                document.getElementById('bestOf').textContent = localStorage.getItem('bestOf');
                tacada1 = parseInt(localStorage.getItem('tacada1')) || 0;
                tacada2 = parseInt(localStorage.getItem('tacada2')) || 0;
                timer1 = parseInt(localStorage.getItem('timer1')) || 0;
                timer2 = parseInt(localStorage.getItem('timer2')) || 0;
                totalTime1 = parseFloat(localStorage.getItem('totalTime1')) || 0;
                totalTime2 = parseFloat(localStorage.getItem('totalTime2')) || 0;
                clickCount1 = parseInt(localStorage.getItem('clickCount1')) || 0;
                clickCount2 = parseInt(localStorage.getItem('clickCount2')) || 0;
                playerSwitchCount1 = parseInt(localStorage.getItem('playerSwitchCount1')) || 0;
                playerSwitchCount2 = parseInt(localStorage.getItem('playerSwitchCount2')) || 0;
                matchTimer = parseInt(localStorage.getItem('matchTimer')) || 0;
                gameTimer = parseInt(localStorage.getItem('gameTimer')) || 0;
                isMatchTimerRunning = localStorage.getItem('isMatchTimerRunning') === 'true';
                isGameTimerRunning = localStorage.getItem('isGameTimerRunning') === 'true';
                remainingValue = parseInt(localStorage.getItem('remainingValue')) || 0;
                sixRedMode = localStorage.getItem('sixRedMode') === 'true';
                englishRuleMode = localStorage.getItem('englishRuleMode') === 'true';
                totalBalls1 = parseInt(localStorage.getItem('totalBalls1')) || 0;
                totalBalls2 = parseInt(localStorage.getItem('totalBalls2')) || 0;
                totalPoints1 = parseInt(localStorage.getItem('totalPoints1')) || 0;
                totalPoints2 = parseInt(localStorage.getItem('totalPoints2')) || 0;
                isSecondScreenActive = localStorage.getItem('secondScreenActive') === 'true';
                
                if (localStorage.getItem('player1Flag')) {
                    document.getElementById('player1Flag').value = localStorage.getItem('player1Flag');
                }
                
                if (localStorage.getItem('player2Flag')) {
                    document.getElementById('player2Flag').value = localStorage.getItem('player2Flag');
                }
                
                const player1Photo = localStorage.getItem('player1Photo');
                if (player1Photo) {
                    document.getElementById('player1Photo').src = player1Photo;
                    document.getElementById('player1Photo').style.display = 'block';
                    document.getElementById('player1PhotoPlaceholder').style.display = 'none';
                }
                
                const player2Photo = localStorage.getItem('player2Photo');
                if (player2Photo) {
                    document.getElementById('player2Photo').src = player2Photo;
                    document.getElementById('player2Photo').style.display = 'block';
                    document.getElementById('player2PhotoPlaceholder').style.display = 'none';
                }
                
                // Carregar imagem da barra inferior
                const barraInferiorImage = localStorage.getItem('barraInferiorImage');
                if (barraInferiorImage) {
                    const container = document.getElementById('imageSearchTopContainer');
                    const previewContainer = document.getElementById('imagePreviewTopContainer');
                    const preview = document.getElementById('imagePreviewTop');
                    const searchBox = document.getElementById('imageSearchTopBox');
                    const inferiorBarImage = document.getElementById('inferiorBarImage');
                    
                    // Limpar preview anterior
                    preview.innerHTML = '';
                    
                    // Criar nova imagem
                    const img = new Image();
                    img.onload = function() {
                        // Ajustar o tamanho da imagem para caber na janela do topo
                        const maxWidth = 300;
                        const maxHeight = 50;
                        
                        let width = img.width;
                        let height = img.height;
                        
                        // Calcular proporções para caber na altura fixa de 50px
                        const aspectRatio = width / height;
                        
                        // Ajustar para caber na altura de 50px
                        height = maxHeight;
                        width = height * aspectRatio;
                        
                        // Se a largura for maior que 300px, ajustar novamente
                        if (width > maxWidth) {
                            width = maxWidth;
                            height = width / aspectRatio;
                        }
                        
                        // Aplicar tamanhos para o preview do topo
                        img.style.width = width + 'px';
                        img.style.height = height + 'px';
                        
                        // Adicionar imagem ao preview do topo
                        preview.appendChild(img);
                        
                        // Aplicar a mesma imagem à barra inferior
                        inferiorBarImage.style.backgroundImage = `url('${barraInferiorImage}')`;
                        
                        // Mostrar container de preview e esconder caixa de busca
                        previewContainer.style.display = 'flex';
                        searchBox.style.display = 'none';
                    };
                    img.src = barraInferiorImage;
                    img.alt = "Imagem selecionada";
                }
                
                // Carregar dados da barra inferior
                if (localStorage.getItem('inferiorName1')) {
                    document.getElementById('inferiorName1').textContent = localStorage.getItem('inferiorName1');
                    document.getElementById('inferiorScore1').textContent = localStorage.getItem('inferiorScore1');
                    document.getElementById('inferiorWins1').textContent = localStorage.getItem('inferiorWins1');
                    document.getElementById('inferiorBestOf').textContent = localStorage.getItem('inferiorBestOf');
                    document.getElementById('inferiorWins2').textContent = localStorage.getItem('inferiorWins2');
                    document.getElementById('inferiorName2').textContent = localStorage.getItem('inferiorName2');
                    document.getElementById('inferiorScore2').textContent = localStorage.getItem('inferiorScore2');
                }
                
                document.getElementById('matchTimer').textContent = formatMatchTime(matchTimer);
                document.getElementById('gameTimer').textContent = formatGameTime(gameTimer);
                
                // Restaurar os timers se estavam rodando
                if (isMatchTimerRunning) {
                    matchTimerStartTime = Date.now() / 1000;
                    matchTimerPausedTime = matchTimer;
                    matchTimerInterval = setInterval(() => {
                        const now = Date.now() / 1000;
                        const elapsed = now - matchTimerStartTime;
                        matchTimer = Math.floor(matchTimerPausedTime + elapsed);
                        document.getElementById('matchTimer').textContent = formatMatchTime(matchTimer);
                        saveData();
                    }, 100);
                }
                
                if (isGameTimerRunning) {
                    gameTimerStartTime = Date.now() / 1000;
                    gameTimerPausedTime = gameTimer;
                    gameTimerInterval = setInterval(() => {
                        const now = Date.now() / 1000;
                        const elapsed = now - gameTimerStartTime;
                        gameTimer = Math.floor(gameTimerPausedTime + elapsed);
                        document.getElementById('gameTimer').textContent = formatGameTime(gameTimer);
                        saveData();
                    }, 100);
                }
                
                document.getElementById('sixRedMode').checked = sixRedMode;
                document.getElementById('englishRuleMode').checked = englishRuleMode;
                
                updateTacada();
                updateDifference();
                updateNames();
                updateFlags();
                document.getElementById('timer1').textContent = formatTime(timer1);
                document.getElementById('timer2').textContent = formatTime(timer2);
                calculateAverageTime(1);
                calculateAverageTime(2);
                
                document.getElementById('remainingValue').textContent = remainingValue;
                document.getElementById('remainingValue2').textContent = remainingValue;
                
                updateBallsCount();
                updateRemainingButtons();
                
                // Carregar cores das janelas salvas
                const savedColors = localStorage.getItem('windowColors');
                if (savedColors) {
                    const colors = JSON.parse(savedColors);
                    windowColors = colors;
                    applySavedColors();
                }
                
                // Carregar estilo de fonte salvo
                const savedFontStyle = localStorage.getItem('fontStyle');
                if (savedFontStyle) {
                    applyFontStyle(savedFontStyle);
                }
                
                // Atualizar botão de segunda tela
                updateSecondScreenButton();
                
                // Atualizar barra inferior
                syncWithInferiorBar();
            }
        }

        // ==============================================
        // INICIALIZAÇÃO
        // ==============================================
        
        window.onload = function() {
            loadData();
            loadFont();
            loadFontStyle();
            
            document.getElementById('sixRedMode').addEventListener('change', updateGameMode);
            document.getElementById('englishRuleMode').addEventListener('change', updateGameMode);
            
            updateRemainingButtons();
            
            // Aplicar cores salvas ao carregar
            applySavedColors();
            
            // Atualizar a cor inicial da tacada
            updateTacada();
            
            // Inicializar a barra inferior
            syncWithInferiorBar();
            
            // Adicionar listener para fechar segunda tela quando a página for fechada
            window.addEventListener('beforeunload', function() {
                if (isSecondScreenActive) {
                    stopSecondScreen();
                }
            });
        };
    </script>
</body>
</html>